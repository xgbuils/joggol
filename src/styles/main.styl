@import '../../bower_components/normalize.styl/normalize.styl'
@import 'joggol_icons.styl'
@import 'shadowsintolight_font.styl'
@import 'JosefinSans-Regular.styl'
//@import 'nib/normalize'
@import 'nib'

article = {
	margin: .5em
}

body = {
	font: {
		size: 22px
	}
}

button = {
	create: {
		width: 300px
		height: 60px
	}
}

color = {
	main: #2F9C9A
}

bar = {
	height: 50px
}

contenteditable = {
	width: 40px
	borderWidth: 1px
	select: {
		incrBorderWidth: 2px
	}
}

num_samples = 2

/*
 * RESET
 * =====
 */
abbr[title]
	border-bottom: 0
body
	margin: 0
	padding: 0

/*
 * LAYOUT
 * ======
 */

body
html
	height: 100%
/*
 * ^view
 */
.wrapper
	height: 300%
	height: 300vh
	position: relative
.simulator-disabled
	height: 200%
	height: 200vh
	.view
		height: 50%
		height: 100vh
	.view--simulator
		display: none
.view
	height: 33.33%
	height: 100vh

/*
 * ^header
 */
.view--header
	overflow: hidden
	position: relative

.view__block
	margin: .2em
	overflow: hidden
.view__absolute-block
	-webkit-backface-visibility: hidden
	position: absolute
	transform: translate(0, -50%)
	width: 100%
.view__absolute-block--languages
	top: 4%
.view__absolute-block--header-main
	top: 40%

/*
 * ^samples
 */
.view__absolute-block--samples
	top: 83%
	.ask
	.hint
		display: block
		margin: .8em


/*
 * STYLES
 * ======
 */
h1
	font-size: 2em
	margin: 0
	padding: 0
.view__absolute-block--languages
	font-size: 0.7em
	padding: 3em 0 1.5em
	ul
		margin 0
		padding 0
	li
		display: inline-block
		border-left: solid white 1px
		&:first-child
			border: none
	a
		border-radius: .2em
		color: white
		display: block
		margin 0 .5em
		padding: .2em .2em .1em .2em
		text-decoration: none
		&:hover
			background: white
			color: color.main
			
.view__absolute-block--samples
	visibility: hidden
	overflow: hidden
	ul
		font-size: 0
		width: num_samples * 100%
		//margin-left: -100%
		//margin-right: - (num_samples - 1) * 100%
	li
		display: block
		float: left
		font-size: body.font.size
		width: (100% / num_samples)
	a
		background: rgba(white, 0.8)
		border: solid 2px white
		border-radius: .3em
		color: color.main
		padding: .3em
		text-decoration: none
		&:hover
			background: white
			border: solid 2px white
			color: color.main

/*
 * ^other
 */
body
	font-family: 'Josefin Sans', sans-serif;
	font-size: body.font.size
ul
li
	list-style: none
	margin: 0
	padding: 0
.btn
	border-radius: .2em
	display: inline-block
	line-height: 2em
	padding 0 .5em
	text-decoration: none
.view--generator
	box-sizing: border-box
	font-size: 1em
	padding: bar.height 0
	position: relative
	h2
		display: inline-block
		font-size: 1em
		height: 42px
		line-height: 42px
		margin: 0
		&:after
			content: ":"
	.patterns-description
		h2
			display: block
.contenteditable
	border: solid contenteditable.borderWidth color.main
	border-radius: .4em
	box-sizing: border-box
	height: contenteditable.width
	line-height: contenteditable.width
	min-width: contenteditable.width
	text-align: center

.editable
	&.android-browser
		margin-right: -70px
	//background: red
	display: inline-block
	.contenteditable
	.word-expanded
	.collapsed
		display: inline-block
		overflow: hidden !important
		transition: width .3s, min-width .3s
		vertical-align: middle
	&.expanded
		&>.collapsed
			width: 0 !important
	&.minEqMax
	&.minLessOrEq1
		&>.contenteditable
			min-width: 0
	&.minEqMax
		&>.word-minLessOrEq1
		&>.word-expanded
			width: 0 !important
		&.balls
		&.periods
			&>.max
				border: 0
				width: 0 !important
		&.heights
			&>.min
				border: 0
				width: 0 !important
	&.minLessOrEq1
		.min
		.word-minEqMax
		.word-expanded
			border: none
			width: 0 !important

.view--header
	background: color.main
	color: white
	text-align: center
	.description
		margin .4em 0 .4em
	.icon-logo
		vertical-align middle
		display inline-block
		font-size 3.3em
		margin 0
		margin-right .1em
	.menu-header
		display: none
		height: bar.height
		width: 100%
		a
			color: white
			font-size: 1em
			font-weight: bold
			margin: 0
			text-decoration: none
	&.reduce
		.menu-header
			display: block
			background: color.main
			left: 0
			position: fixed
			top: 0
			z-index: 20
.view__absolute-block--header-main
	box-sizing: border-box
	font-size 1.3em
	padding: 0
	strong
		font-weight: normal
.header-btn
	background: white
	color: black
	height: 2em
.keyboard
	background: color.main
	bottom: 0
	box-sizing: border-box
	height: bar.height
	line-height: bar.height
	overflow: hidden
	padding-left: 3em
	position: fixed
	text-align: left
	transition: height .3s
	width: 100%
	z-index: 20
	a
		text-decoration: none
	ul
		//background: color.main
		display: table-row
	li
		border-right: solid .5em color.main
		border-left: solid .5em color.main
		display: table-cell
	.buttons-container
		display: table
		margin-top: 10px
		margin-left: 60px
		position: absolute
		left: 0
		top: 0
	.buttons
		display: none
		left: 0
		//overflow: hidden
		position: absolute
		top: 0
		transition: left .3s
	.icon-right
	.icon-left
		box-sizing: border-box
		color: white
		display: block
		font-size: 2em
		height: bar.height
		line-height: bar.height
		position: absolute
		top: 0
		width: 60px
		z-index: 10
		-webkit-backface-visibility: hidden
	.icon-left
		background-image: linear-gradient(left, rgba(color.main, 1) 65%, rgba(color.main, 0) 100%)
		left: 0
		padding-left: .2em
		text-align: left
	.icon-right
		background-image: linear-gradient(left, rgba(color.main, 0) 0%, rgba(color.main, 1) 35%)
		padding-right: .2em
		right: 0px
		text-align: right
.keyboard-btn
	background: white
	border-radius: .2em
	//box-sizing: border-box
	display: block
	height: 30px
	line-height: 30px
	padding: 0 .5em
	transition: margin .05s, padding .3s
	//width: 100%
.patterns
	text-align justify
.create
	text-align: center
	.btn
		background: color.main
		color: white
		&.disabled
			background: rgba(color.main, .5)
			cursor: default
.view--simulator
	box-sizing: border-box
	//height: 100vh
	padding: bar.height 0
	position: relative
	width: 100%
.title
	font-family: 'Shadows Into Light', cursive

@media screen and (min-width: 360px)
	.view__block__abbr
		text-decoration: none
		border-bottom: 0
		span
			display: none
		&:before
			content: attr(title)
@media screen and (max-height: 420px)
	.view__absolute-block
		position: static
		transform: none
		width: 100%
	.view__absolute-block--samples
			padding: 2em 0
	.view--header
	.view--generator
		height: auto
@media screen and (min-height: 450px)
	h1
		font-size: 2.5em
	.view__block
		margin: .4em
@media screen and (min-height: 500px)
	.description
		margin .8em 0 .4em
	.view__block
		margin: .8em
	.view__absolute-block--languages
		top: 10%
	.view__absolute-block--header-main
		top: 45%
	.view__absolute-block--samples
		top: 85%
@media screen and (min-width: 500px)
	.view--generator
	.view--simulator
		width: 500px
		margin: 0 auto
@media screen and (min-width: 800px)
	.view--generator
		width: 90%
		margin: 0 auto
	.view--generator
		text-align: center
		h2
			border-bottom: solid 2px color.main
			display: inline-block
			padding: 0 .5em
		h2
		.editable
			margin: 0 auto 1em
			vertical-align: top
		.editable
			display: block
			margin-top: .5em
		.view__block
			display: inline-block
			margin: .4em
			width: 28%
		.patterns-description
			width: 40%
			h2
				display: block
				margin-bottom: 1em
	.keyboard
		border-radius: .5em .5em 0 0
		left: 20%
		width: 60%
@media screen and (min-width: 930px)
	.view--generator
		h2
			padding: 0 1em
		.view__block
			margin: 1em
			width: 25%

/*
 * JAVASCRIPT STYLES
 * =================
 */

.js-hide
	display: none
.keyboard
	&.js-hide
		display: block
		height: 0
	.buttons
		&.js-select
			background: transparent
			display: block
.contenteditable
	&.js-select
		line-height: contenteditable.width - 2 * contenteditable.select.incrBorderWidth
		border-width: contenteditable.borderWidth + contenteditable.select.incrBorderWidth
.keyboard-btn
	&.js-select
		background: white
		font-size: 1.2em
		margin: -.2em
		padding: .2em .7em

