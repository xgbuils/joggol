!function t(e,a,i){function n(o,s){if(!a[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(r)return r(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var h=a[o]={exports:{}};e[o][0].call(h.exports,function(t){var a=e[o][1][t];return n(a?a:t)},h,h.exports,t,e,a,i)}return a[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)n(i[o]);return n}({"./src/js/main.js":[function(t){function e(){this._length=0,this._errors={}}function a(t,e){for(var a=[],i=t;e>=i;++i)a.push(i);return a}function i(t,e,a){var i=$.Event(t);i.target=a,e.trigger(i)}function n(t,e){var a=t.split("?"),i=a[0],n={};if(a[1]){var r=a[1].split("&");for(var o in r)a=r[o].split("="),n[a[0]]=a[1]}return{fragment:i||e.fragment,queryString:n}}function r(t){return!isNaN(t)&&t===Math.floor(t)}function o(t,e,a,i){var n=d.message,o=t[e],s=o[a];if(r(s)?g.remove(a+e):g.add(a+e,n.isNotAInt(s)),("all"===i||"range"===i)&&(o.min>o.max?(console.log("min > max"),g.add(e,n.invalidRange(o,e)),console.log(g.ok())):g.remove(e)),"all"===i){var l=t.balls.min,h=t.heights.max,u=t.periods.min;l>=h&&u>1?g.add("all",n.emptyWithBigPeriod()):1===u&&l>h?g.add("all",n.emptyWithLittlePeriod()):g.remove("all")}}var s=t("siteswap-generator"),l=t("./Juggler/juggler.js"),d=t("./lang/ca.js"),h=window.navigator.userAgent,u=/android/i.test(h)&&h.indexOf("534.30");e.prototype={ok:function(){return 0===this._length},add:function(t,e){t in this._errors||++this._length,this._errors[t]=e},remove:function(t){t in this._errors&&(delete this._errors[t],--this._length)},message:function(){for(var t in this._errors)return this._errors[t]}},$.fn.keyboard=function(t,e){e=e||function(t){return t},$(this).html("<ul>"+t.map(function(t){return"<li>"+e(t)+"</li>"}).join("")+"</ul>")};var c={balls:function(t,e,a){t.error=!1,void 0!==e.min&&void 0!==e.max&&e.min<=e.max&&e.min>0?e.min===e.max?t.balls=d.balls[0](e.min,e.max):1===e.min?t.balls=d.balls[1](e.min,e.max):e.min<e.max&&(t.balls=d.balls[2](e.min,e.max)):t.error=d.balls[3](e.min,e.max),a.text(t.balls)},periods:function(t,e,a){t.error=!1,void 0!==e.min&&void 0!==e.max&&e.min<=e.max&&e.min>0?e.min===e.max?t.period=d.periods[0](e.min,e.max):1===e.min?t.period=d.periods[1](e.min,e.max):e.min<e.max&&(t.period=d.periods[2](e.min,e.max)):t.error=d.periods[3](e.min,e.max),a.text(t.period)},heights:function(t,e,a){t.error=!1,void 0===e.min&&void 0===e.max?t.height="":(void 0===e.min||e.min<=1)&&e.max>=0?t.height=d.heights[0](e.min,e.max):void 0===e.max&&e.min>=0?t.height=d.heights[1](e.min,e.max):e.min<=e.max&&e.min>=0?t.height=e.min===e.max?d.heights[2](e.min,e.max):d.heights[3](e.min,e.max):t.error=d.heights[4](e.min,e.max),a.text(t.height)}},m={},p={},g=new e,f="0123456789abcdefghijklmnopqrstuvxyz",v={values:{},href:{queryString:{}}};$(document).ready(function(){function t(){var e=$("li",v.$samples).slice(0,1);v.$samples.animate({"margin-left":-e.width()},C,"swing",function(){v.$samples.css("margin-left",0),e.detach(),v.$samples.append(e)}),setTimeout(t,1e4)}function e(t,e){e=e||t.data;var a=(e.$keyboard,e.$simulator),i=(e.$generator,{balls:E.$balls,period:E.$periods,height:E.$heights}),n={};for(var r in i)n[r]={min:parseInt(i[r].data("$min").text())||void 0,max:parseInt(i[r].data("$max").text())||void 0};var o=s.Generator(n);return o=o.map(function(t){return t.map(function(t){return f[t]}).join("")}),a.data("patterns",o),_.$patterns.keyboard(o,function(t){return'<a class="keyboard-btn" href="#simulator?play='+t+'">'+t+"</a>"}),e.juggler&&e.juggler.stop(),e.jugglerPlaying=!1,_.$patterns.data("active",!1),_.$patterns.data("position",0),_.$patterns.css("left",0),_.$patterns.data("width",null),o}function r(t,e,a){a||(t.addClass("js-select"),e.data("$select",t));var i=(t.data("minmax"),e.data("width"));if(e.outerWidth()>k.outerWidth()){var n=.5*($(window).outerWidth()-t.outerWidth())-t.offset().left,r=e.data("position")+n;-i>r?r=-i:r>0&&(r=0),e.data("position",r),e.css("left",r)}}function d(t,e){e||t.removeClass("js-select")}function h(t,e){console.log("visible"),e.removeClass(t)}function b(t,e){console.log("collapse"),e.addClass(t)}function j(t,e,a){var i=!1;i||t!==e?h("minEqMax",a):(b("minEqMax",a),i=!0),!i&&1>=t||void 0===t?(b("minLessOrEq1",a),i=!0):h("minLessOrEq1",a),i?a.removeClass("expanded"):a.addClass("expanded")}function w(t){var e=t.data,a=$(this),i=a.data("type"),n=a.data("minmax");p[i][n]=parseInt(a.text())||void 0,o(p,i,n,"all"),g.ok()||console.log(g.message()),c[i](m,p[i],e.outputs[i]),g.ok()?(e.message.$error.addClass("js-hide"),e.message.$success.removeClass("js-hide")):(e.message.$success.addClass("js-hide"),e.message.$error.text(g.message()),e.message.$error.removeClass("js-hide")),g.ok()?(e.$create.removeClass("disabled"),e.$wrapper.removeClass("simulator-disabled")):(e.$create.addClass("disabled"),e.$wrapper.addClass("simulator-disabled"))}function y(t,e,a){var i,n=t.data("$min"),r=t.data("$max"),s=n.text(),l=r.text();j(s,l,t),p[e]={min:parseInt(s)||void 0,max:parseInt(l)||void 0},o(p,e,"min"),g.ok()||(v.message.$error.text(i),v.message.$success.addClass("js-hide")),o(p,e,"max",2===a?"all":"range"),g.ok()||(v.message.$error.text(i),v.message.$success.addClass("js-hide")),c[e](m,p[e],v.outputs[e]),g.ok()?(v.$create.removeClass("disabled"),v.$wrapper.removeClass("simulator-disabled")):(v.$create.addClass("disabled"),v.$wrapper.addClass("simulator-disabled"))}function x(t){t.preventDefault();var a=t.data,i=a.$keyboard,r=a.$simulator,o=n($(this).attr("href"),{fragment:"#header"}),s=a.href.queryString,d=o.queryString,h=$(o.fragment).offset().top;if(a.$root.animate({scrollTop:h},C,"swing"),"#header"===o.fragment){i.addClass("js-hide");var u=i.data("$shown");u&&u.removeClass("js-select")}else if("#simulator"===o.fragment){var c=r.data("patterns");c||(c=e({},a)),o.queryString.play=o.queryString.play||c[0],console.log("play",o.queryString.play),a.juggler||(a.juggler=new l({stage:{container:"juggler-simulator",width:r.width(),height:r.height()}})),s.play!==d.play&&(a.juggler.stop(),a.juggler.setPattern(o.queryString.play),a.juggler.play(),a.jugglerPlaying=!0)}a.href=o}v.$root=$("body, html");var C=300;$(".collapsed").each(function(t,e){var a=$(e);a.removeClass("js-hide");var i=a.outerWidth();console.log(i),a.data("width",i),a.css("width",i)}),$(".word-expanded").each(function(t,e){var a=$(e),i=a.outerWidth();a.data("width",i),a.css("width",i)});var k=v.$keyboard=$("#keyboard"),_={};k.data("$shown",null),$.each(["balls","periods","heights","patterns"],function(t,e){var a=_["$"+e]=$("#keyboard-"+e);a.data("position",0),a.data("active",!1)}),k.data("buttons",_);var q=$("#keyboard-left"),A=$("#keyboard-right");k.data("$left",q),k.data("$right",A),v.outputs={balls:$("#description-balls"),periods:$("#description-periods"),heights:$("#description-heights")},v.message={$success:$("#success"),$error:$("#error")};var L=v.$wrapper=$("#wrapper");v.$create=$("#create"),v.topCreate=v.$create.offset().top,v.$samples=$("#samples"),v.$header=$("#header");var P=v.$generator=$("#generator"),M=null,E={};P.data("active",!1),P.data("top",P.offset().top),P.data("$focus",M),$.each(["balls","periods","heights"],function(t,e){var i=E["$"+e]=$("#"+e);u&&i.addClass("android-browser");var n=$("#keyboard-"+e);"periods"===e?n.keyboard(a(1,10),function(t){return'<span class="numbers keyboard-btn number-'+t+'">'+t+"</span>"}):n.keyboard(a(1,25),function(t){return'<span class="numbers keyboard-btn number-'+t+'">'+t+"</span>"}),$.each(["min","max"],function(t,a){var r=$("#"+e+"-"+a);i.data("$"+a,r),r.data("$parent",i);var o=r.width();r.width(o);var s="40px";r.data("width",o),r.data("min-width",s),r.data("type",e),r.data("minmax",a),r.data("$keys",n)}),y(i,e,t)});var S=v.$simulator=$("#simulator");S.data("active",!1),P.data("inputs",E);for(var F in _){var I=_[F];I.on("click",".keyboard-btn",I,function(t){var e=$(this),a=t.data,i=a.data("$select");i&&d(i),a.data("$select",e),r(e,a)})}t(),v.$create.on("click",v,e),v.$root.on("click",P,function(t){var e=t.data,a=e.data("$focus");a&&(i("blureditable",e,a[0]),e.data("$focus",null))}),P.on("click",".editable",P,function(t){t.stopPropagation();var e=t.data,a=e.data("$focus");a&&i("blureditable",e,a[0]),a=$(".contenteditable",this).first(),e.data("$focus",a),i("focuseditable",e,a[0])}),P.on("click",".contenteditable",P,function(t){t.stopPropagation();var e=t.data,a=e.data("$focus");a&&i("blureditable",e,a[0]),a=$(this),e.data("$focus",a),i("focuseditable",e,this)}),P.on("focuseditable",".contenteditable",k,function(t){var e=t.data,a=$(this),i=a.data("$keys"),n=a.data("$parent"),o=(e.data("$shown"),a.data("minmax"));n.addClass("expanded"),n.hasClass("minEqMax")&&h("minEqMax",n),n.hasClass("minLessOrEq1")&&h("minLessOrEq1",n),a.addClass("js-select");var s=i.data("width");s||(s=i.width()-e.outerWidth()+120,i.data("width",s)),e.removeClass("js-hide"),e.data("$shown",i),i.addClass("js-select"),i.data("active",!0);var l,u=parseInt(a.text().trim()),c=!1;"min"===o?(l=parseInt(n.data("$max").text().trim()),u>l&&(u=l,c=!0,console.log("onlymove"))):(l=parseInt(n.data("$min").text().trim()),l>u&&(u=l,c=!0,console.log("onlymove")));var m=i.data("$select");if(m&&!m.hasClass(p)&&d(m),u){var p="number-"+u;r($("."+p,i),i,c)}}),P.on("blureditable",".contenteditable",v,function(t){console.log("blureditable");var e=$(this),a=t.data,i=a.$keyboard,n=e.data("$keys"),r=i.data("$shown"),o=e.data("$parent"),s=o.data("$min").text(),l=o.data("$max").text();j(s,l,o),e.removeClass("js-select"),r&&(i.addClass("js-hide"),n.removeClass("js-select")),n.data("active",!1)}),P.on("inputeditable",".contenteditable",v,w);k.on("click",function(t){t.stopPropagation()}),q.on("click",k,function(t){var e=t.data,a=e.data("$shown");if(a.outerWidth()>e.outerWidth()){var i=e.width()-100,n=a.data("position")+i;n=Math.min(n,0),a.data("position",n),a.css("left",n)}}),A.on("click",k,function(t){var e=t.data,a=e.data("$shown");if(a.outerWidth()>e.outerWidth()){var i=e.width()-100,n=a.data("position")-i;n=Math.max(n,-a.data("width")),a.data("position",n),a.css("left",n)}}),v.$root.on("click",".internal-link.disabled",function(t){t.preventDefault()}),v.$root.on("click",".internal-link:not(.disabled)",v,x),_.$patterns.on("click","a:not(.disabled)",v,x),k.on("click",".keyboard-btn.numbers",P,function(t){var e=parseInt($(this).text()),a=t.data,n=a.data("$focus");n.text(e),i("inputeditable",a,n[0])}),$(window).on("scroll",v,function(t){var e=t.data,a=e.$generator,i=e.$simulator,n=$(window).scrollTop(),r=a.offset().top,o=i.offset().top;r-50>n?e.$header.removeClass("reduce"):e.$header.addClass("reduce");var s=a.data("active");s&&(r-50>n||n>=e.topCreate)?(a.trigger("off"),a.data("active",!1)):!s&&n>=r-50&&n<e.topCreate&&(a.trigger("on"),a.data("active",!0)),s=i.data("active"),s&&o-50>n?(i.trigger("off"),i.data("active",!1)):!s&&!L.hasClass("simulator-disabled")&&n>=o-50&&(i.trigger("on"),i.data("active",!0))}),S.on("off",k,function(t){var e=t.data,a=e.data("$shown"),i=e.data("buttons");i.$patterns.removeClass("js-select"),a&&(a.removeClass("js-select"),e.data("$shown",null)),e.addClass("js-hide")}),P.on("off",k,function(t){var e=t.data,a=e.data("$shown");a&&(a.removeClass("js-select"),e.data("$shown",null)),e.addClass("js-hide")}),S.on("on",v,function(t){console.log("ON simulator");var a=t.data,i=a.$keyboard,n=i.data("$shown"),r=i.data("buttons"),o=a.href,s=a.$simulator,d=s.data("patterns");d||(d=e({},a)),a.jugglerPlaying||(o.queryString.play=o.queryString.play||d[0],a.juggler||(a.juggler=new l({stage:{container:"juggler-simulator",width:s.width(),height:s.height()}})),a.juggler.stop(),a.juggler.setPattern(o.queryString.play),a.juggler.play(),a.jugglerPlaying=!0),n&&n.removeClass("js-select"),n=r.$patterns,i.data("$shown",n),n.addClass("js-select"),i.removeClass("js-hide");var h=r.$patterns.data("width");h||(h=r.$patterns.width()-i.outerWidth()+120,r.$patterns.data("width",h))}),P.on("on",v,function(t){{var e=t.data,a=e.$generator.data("$focus"),i=e.$keyboard,n=i.data("$shown");i.data("buttons")}n&&(n.removeClass("js-select"),i.data("$shown",null)),a&&(n=a.data("$keys"),i.data("$shown",n),n.addClass("js-select"),i.removeClass("js-hide"))})})},{"./Juggler/juggler.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/Juggler/juggler.js","./lang/ca.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/lang/ca.js","siteswap-generator":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/index.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Animation/Animation.js":[function(t,e){function a(){var t=Date.now(),e={time:(t-this.played)*this.v};this.func(e),this.id=window.requestAnimationFrame(a.bind(this))}t("./rAF.js");var i=function(t){this.func=t,this.on=!1,this.paused=this.played=Date.now(),this.v=1,this.active=!1};i.prototype={play:function(){this.func&&!this.on&&(this.paused&&(this.played+=Date.now()-this.paused),a.call(this),this.active=this.on=!0)},pause:function(){this.func&&this.on&&(cancelAnimationFrame(this.id),this.active=this.on=!1,this.paused=Date.now())},mute:function(){this.func&&this.on&&(cancelAnimationFrame(this.id),this.active=this.on=!1,this.paused=void 0)},stop:function(){this.func&&(this.pause(),this.paused=this.played=Date.now())},seek:function(t){if(this.func){var e=Date.now();this.played=e-t,this.paused=e}},speed:function(t){if(this.func&&isFinite(t))if(t){t/=this.v;var e=Date.now(),a=(e-this.played)/t;if(this.played=e-a,this.paused){var i=(e-this.paused)/t;this.paused=e-i}this.v*=t,this.active&&this.play()}else this.pause(),this.active=!0},remove:function(){this.func&&(this.pause(),delete this.func)}},e.exports=i},{"./rAF.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Animation/rAF.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Animation/rAF.js":[function(){!function(){for(var t=0,e=["ms","moz","webkit","o"],a=0;a<e.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[e[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[a]+"CancelAnimationFrame"]||window[e[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var a=(new Date).getTime(),i=Math.max(0,16-(a-t)),n=window.setTimeout(function(){e(a+i)},i);return t=a+i,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Layer.js":[function(t,e){function a(){this.shapes=[],this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.ctx=this.canvas.getContext("2d")}var i=a.prototype;i.add=function(t){this.shapes.push(t),t.layer=this},i.draw=function(){this.clear(),this.shapes.forEach(function(t){t.draw()})};var n=window.navigator.userAgent,r=/android/i.test(n)&&n.indexOf("534.30");r?(console.log("native_android_browser"),i.clear=function(){this.ctx.clearRect(0,0,this.width,this.height),this.canvas.style.display="none",this.canvas.offsetHeight,this.canvas.style.display="inherit"}):i.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},i.remove=function(){this.clear(),this.shapes.forEach(function(t){delete t.layer}),this.shapes=[]},e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Shape/Circle.js":[function(t,e){function a(t){this.shape=t}a.prototype.draw=function(){var t=this.shape,e=this.layer;e.ctx.beginPath(),e.ctx.arc(t.x,t.y,t.radius,0,2*Math.PI),e.ctx.closePath(),t.fill&&(e.ctx.fillStyle=t.fill,e.ctx.fill())},a.prototype.setX=function(t){this.shape.x=t},a.prototype.setY=function(t){this.shape.y=t},e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Stage.js":[function(t,e){function a(t){this.layers=[];var e=this.container=document.getElementById(t.container);if(!e)throw new Error("element #"+t.container+" does not exist");var a=e.style;a.position="relative",a.width=t.width+"px",a.height=t.height+"px",a.overflow="hidden",this.width=parseInt(t.width),this.height=parseInt(t.height)}a.prototype.add=function(t){var e=t.canvas;this.layers.push(t),e.width=t.width=this.width,e.height=t.height=this.height,this.container.appendChild(e)},a.prototype.resize=function(t){var e=parseInt(t.width),a=parseInt(t.height),i=this.container.style;isFinite(e)&&(i.width=e+"px",this.width=e),isFinite(a)&&(i.height=a+"px",this.height=a)},e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Kinema.js":[function(t,e){e.exports={Animation:t("./Animation/Animation.js"),Stage:t("./Canvas/Stage.js"),Layer:t("./Canvas/Layer.js"),Circle:t("./Canvas/Shape/Circle.js")}},{"./Animation/Animation.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Animation/Animation.js","./Canvas/Layer.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Layer.js","./Canvas/Shape/Circle.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Shape/Circle.js","./Canvas/Stage.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Stage.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/index.js":[function(t,e){e.exports={Buffer:t("./src/Buffer"),Generator:t("./src/Generator")}},{"./src/Buffer":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Buffer.js","./src/Generator":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Generator.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/node_modules/lazyarray-lite/lazyarray-lite.js":[function(t,e){function a(t){var e=this._values={},a=this._methods={};this.maxLength=1/0,"function"==typeof t?a.get=t:(this.maxLength="number"==typeof t.maxLength?t.maxLength:1/0,t.get?a.get=t.get:t.next&&(a.next=t.next));var i=this._elems=a.get?{}:[];for(var n in t){var r=t[n];/0|[1-9]\d*/.exec(n)?i[n]=r:"init"===n&&t.init.call(e)}}function i(t,e,a){for(var i=[],n=e;a>n;++n){var r=t[n];if(void 0===r)break;i.push(r)}return i}function n(t,e,a){var i=this._elems,n=this.maxLength;void 0!==n&&e>n&&(e=n);for(var r=t;e>r;++r)if(void 0===i[r]){var o=a.call(this,r);if(void 0===o){this.maxLength=r;break}i[r]=o}}a.prototype.get=function(t){return this.slice(t,t+1)[0]},a.prototype.slice=function(t,e){var a=this._elems,r=this._methods;if(r.get)n.call(this,t,e,function(t){return r.get.call(null,t)});else{var o=r.next.length;n.call(this,a.length,e,function(t){var e=this._elems.slice(t-o).reverse();return r.next.apply(this._values,e)})}return i(a,t,e)},e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Buffer.js":[function(t,e){function a(t){return this.minLength=0,this.maxLength=1/0,this instanceof a?void(this.patterns=new h({init:function(){this.balls=t.balls,this.period=t.period,this.height=t.height,i.call(this)},next:function(){return n(this)}})):new a(t)}function i(){this.balls=u(this,"balls",function(t){return t.balls.max}),this.period=u(this,"period",1),this.height=u(this,"height",0,function(t){return t.balls.max*t.period.max}),this.b=this.balls.max}function n(t){for(;t.b>=t.balls.min;){for(void 0===t.p&&(t.p=t.period.max,periodMin=Math.max(t.period.min,2));t.p>=periodMin;){for(void 0===t.h&&(heightMax=Math.min(t.height.max,t.p*t.b),heightMin=Math.max(t.height.min,t.b+1),t.h=heightMax);t.h>=heightMin;){void 0===t.pos&&r(t);for(var e=o(t);e;)return e;t.pos=void 0,--t.h}t.h=void 0,--t.p}if(t.period.min<=1&&1<=t.period.max&&t.height.min<=t.b&&t.b<=t.height.max)return t.p=void 0,[t.b--];t.p=void 0,--t.b}return void 0}function r(t){t.used={},t.stack=new d,t.array=[],t.pos=0,t.rest=t.b*t.p,t.val=t.h,t.top={min:t.h,index:-1},t.i=t.h,t.num=t.h%t.p,s(t)}function o(t){if(1===t.p&&t.b===t.h)return[balls];for(;t.i>=t.top.min||1!==t.pos;)if(t.pos<t.p)t.i<t.top.min?l(t):(t.num=(t.i+t.pos)%t.p,void 0===t.used[t.num]?s(t):--t.i);else{if(0===t.top.index){var e=[].concat(t.array);return l(t),e}l(t)}return!1}function s(t){if(t.top.index=t.val>t.i?0:t.top.index+1,t.used[t.num]=!0,t.array.push(t.i),t.val=t.array[t.top.index],t.rest-=t.i,++t.pos,t.stack.push(t.top),t.pos<t.p){var e=t.p-t.pos;t.i=Math.min(t.val,t.rest);var a=t.rest-t.h*(e-1);e>1&&a++,t.top={min:Math.max(a,0),index:t.top.index}}}function l(t){t.top=t.stack.pop(),t.top.index=t.stack.top().index,t.val=t.array[t.top.index],--t.pos,t.rest+=t.i=t.array.pop(),t.num=(t.i+t.pos)%t.p,t.used[t.num]=void 0,--t.i}function d(){this.elems=[]}var h=t("lazyarray-lite"),u=t("./utils.js").checkValidParameter;a.prototype.slice=function(t,e){var a=this.patterns.slice(t,e);return"number"!=typeof this.length&&(this.minLength=Math.min(this.patterns.maxLength,e),this.maxLength=Math.min(this.patterns.maxLength,this.maxLength),this.minLength===this.maxLength&&(this.length=this.minLength)),a},e.exports=a,d.prototype={push:function(t){return this.elems.push(t)},pop:function(){return this.elems.pop()},top:function(){return this.elems[this.elems.length-1]}}},{"./utils.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/utils.js","lazyarray-lite":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/node_modules/lazyarray-lite/lazyarray-lite.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Generator.js":[function(t,e){function a(t){var e=new i(t);return e.slice(0,1/0)}var i=t("./Buffer.js");e.exports=a},{"./Buffer.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Buffer.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/utils.js":[function(t,e){function a(t){return"object"==typeof t&&null!==t}function i(t,e,a){return"`"+t+"` is "+e+". Expected "+a.join(" or ")+"."}function n(t,e,n,r){var o=t[e],s=void 0!==r,l=void 0!==n;if(l&&s&&void 0===o)o={max:"function"==typeof r?r(t):r,min:"function"==typeof n?n(t):n};else{if("number"==typeof o&&(t[e]=o={max:o}),!a(o))throw new Error(i(e,null===o?"null":typeof o,["number","non-null object"]));if(s&&void 0===o.max)o.max="function"==typeof r?r(t):r;else if("number"!=typeof o.max)throw new Error(i(e+".max",null===o.max?"null":typeof o.max,["number"]));if(void 0===o.min)o.min="function"==typeof n?n(t):n;else if("number"!=typeof o.min)throw new Error(i(e+".min",null===o.min?"null":typeof o.min,["number","undefined"]))}return o}e.exports={checkValidParameter:n}},{}],"/home/pantalaimon/prog/web/projects/joggol/src/js/Juggler/extend.js":[function(t,e){function a(){"use strict";var t,e,n,r,s,l,d=arguments[0],h=1,u=arguments.length,c=!1;for("boolean"==typeof d?(c=d,d=arguments[1]||{},h=2):("object"!=typeof d&&"function"!=typeof d||null==d)&&(d={});u>h;++h)if(t=arguments[h],null!=t)for(e in t)n=d[e],r=t[e],d!==r&&(c&&r&&(o(r)||(s=Array.isArray(r)))?(s?(s=!1,l=n&&Array.isArray(n)?n:[]):l=n&&o(n)?n:{},d[e]=a(c,l,r)):r!==i&&(d[e]=r));return d}var i,n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,o=function(t){"use strict";if(!t||"[object Object]"!==r.call(t))return!1;var e=n.call(t,"constructor"),a=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!a)return!1;var o;for(o in t);return o===i||n.call(t,o)};e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/src/js/Juggler/juggler.js":[function(t,e){function a(t,e){var a,i=e.time,n=e.position,r=i.now;if(r<i.thrown){a=n.middle.x-n.start.x,t.setX(n.start.x+a*r/i.thrown);var o=.5*e.gravity*i.thrown;t.setY(n.start.y-o*r+.5*e.gravity*r*r)}else a=n.end.x-n.middle.x,t.setX(n.middle.x+a*(r-i.thrown)/i.caught),t.setY(n.middle.y)}var i=t("kinemajs"),n=t("./extend.js"),r=function(){function t(t,e){var a,i=t.juggling,n=t.stage,r=(e-i.waiting.time)*i.interval;if(n.width){var o=(i.integer_height-i.waiting.time)*i.interval,s=o/r;a=s*n.width,console.log("uu",s)}else{var o=(3-i.waiting.time)*i.interval,s=o/r;a=1.5*i.height*s}return{width:.5*a,gravity:8*i.height/(r*r),shift:i.waiting.shift*s,radius:i.balls.radius*s}}function e(e){console.log(e.stage),this.attrs={},this.attrs=n(!0,this.attrs,{stage:{width:500,height:650},juggling:{interval:500,waiting:{time:.5,shift:50},integer_height:5,balls:{radius:10,colors:["red","blue","green","yellow","black","orange","purple"]},height:.8*e.stage.height,center:{x:.5*e.stage.width,y:.9*e.stage.height}},layer:new i.Layer},e),this.attrs.stage=new i.Stage(this.attrs.stage),this.attrs.stage.add(this.attrs.layer);var a=this.attrs.juggling,r=t(this.attrs,this.attrs.juggling.integer_height);a.width=r.width,a.gravity=r.gravity}for(var r="abcdefghijklmnopqrstuvwxyz",o={},s=0;10>s;++s)o[s]=s;for(var s=0;s<r.length;++s)o[r[s]]=s+10;return e.toPattern=function(t){return t.split("").map(function(t){return o[t]})},e.prototype.setPattern=function(n){"string"==typeof n&&(n=e.toPattern(n));var r,o,s,l,d=this.attrs,h=(d.stage,d.juggling),u=Math.max.apply(null,n);if(u>h.integer_height){var c=t(d,u);l=c.width,s=c.gravity,o=c.shift,r=c.radius}else o=h.waiting.shift,l=h.width,s=h.gravity,r=h.balls.radius;var m=n.reduce(function(t,e){return t+e},0);if(m%n.length!=0)throw new Error("El patró es irrealitzable. Es necessita un nombre enter de boles. Actualment: "+m/n.length);m/=n.length;for(var p=[],g=0;g<n.length;++g){var f={};f.value=n[g],f.next=(g+f.value)%n.length,f.period=(f.value-h.waiting.time)*h.interval,f.velocity=.5*s*f.period,p.push(f)}for(var g=0;g<n.length;++g)if(!p[g].cycle){for(var v={},b=g,j=0;!v[b];)v[b]=!0,b=p[b].next,j+=p[b].value;for(var b in v)p[b].cycle=j}var w=h.center.y;o/=2;var y=h.center.x-l/2,x=h.center.x+l/2,$=0,C=0,g=0,k=0,_={};for(this.balls=[];m>g;){if(0!==p[C].value)if(void 0===_[$]){_[$]=g,_[$+p[C].value]=g,++g;var q={figure:new i.Circle({x:$%2===0?y+15:x-15,y:w,radius:r||10,fill:h.balls.colors[k%h.balls.colors.length]}),start:$,cycle:p[C].cycle};this.balls.push(q),d.layer.add(q.figure),++k}else _[$+p[C].value]=p[C].value;++$,C=$%p.length}var A=this;d.animation=new i.Animation(function(t){var e=Math.floor(t.time/h.interval);A.balls.forEach(function(i){var n=t.time-h.interval*i.start;if(n>=0){n%=i.cycle*h.interval;for(var r,l=i.start%p.length;;){r=p[l].value;var d=r*h.interval;if(d>n)break;n-=d,l=p[l].next}var u=e-Math.floor(n/h.interval),c={};c.start=u%2===0?{x:y+o,y:w}:{x:x-o,y:w},(u+p[l].value)%2===0?(c.middle={x:y-o,y:w},c.end={x:y+o,y:w}):(c.middle={x:x+o,y:w},c.end={x:x-o,y:w});var m={value:p[l].value,time:{total:h.interval,thrown:p[l].period,caught:h.interval*p[l].value-p[l].period,now:n},left:u%2===0,gravity:s,position:c};a(i.figure,m)}}),d.layer.draw()})},e.prototype.removePattern=function(){var t=this;t.attrs.animation.stop(),t.attrs.layer.remove()},e.prototype.play=function(){var t=this.attrs.animation;t&&t.play()},e.prototype.pause=function(){var t=this.attrs.animation;t&&t.pause()},e.prototype.mute=function(){var t=this.attrs.animation;t&&t.mute()},e.prototype.stop=function(){var t=this.attrs.animation;t&&t.stop(),this.attrs.layer.remove()},e.prototype.speed=function(t){var e=this.attrs.animation;e&&e.speed(t)},e.prototype.colors=function(t){this.stop(),this.attrs.juggling.balls.colors=[].concat(t)},e}();e.exports=r},{"./extend.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/Juggler/extend.js",kinemajs:"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Kinema.js"}],"/home/pantalaimon/prog/web/projects/joggol/src/js/lang/ca.js":[function(t,e){function a(t){return t[0].toUpperCase(t)+t.substring(1)}e.exports={order:["patterns","balls","periods","heights"],patterns:"Patrons",balls:[function(t,e){return"de "+e+" boles"},function(t,e){return"de màxim "+e+" boles"},function(t,e){return"de "+t+" a "+e+" boles"},function(){return"L'interval de boles que demanes no es correcte"}],periods:[function(t,e){return"de període "+e},function(t,e){return"amb períodes no més grans de "+e},function(t,e){return"amb períodes entre "+t+" i "+e},function(){return"L'interval de períodes que demanes no es correcte"}],heights:[function(t,e){return"amb llançaments no més alts de "+e},function(t){return"amb llançaments que continguin alguna alçada major o igual a "+t},function(t){return"amb algun llançament de "+t+" i no més alt"},function(t,e){return"amb llançaments majors o iguals a "+t+" i mai superiors a "+e},function(){return"L'interval de períodes que demanes no es correcte"}],message:{isNotAInt:function(t){return t+"no és un nombre enter"},invalidRange:function(t,e){return e={balls:"el nombre de boles",periods:"el període",heights:"l'alçada"}[e],a(e)+" menor ("+t.min+") no pot sobrepassar "+e+" major ("+t.max+")"},emptyWithBigPeriod:function(){return"No existeixen patrons vàlids dintre del rang indicat. Prova que l'alçada màxima sigui major al nombre mínim de boles"},emptyWithLittlePeriod:function(){return"No existeixen patrons vàlids dintre del rang indicat. Prova que l'alçada màxima sigui major o igual al nombre mínim de boles"}}}},{}]},{},["./src/js/main.js"]);