!function t(e,a,n){function i(r,o){if(!a[r]){if(!e[r]){var l="function"==typeof require&&require;if(!o&&l)return l(r,!0);if(s)return s(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=a[r]={exports:{}};e[r][0].call(u.exports,function(t){var a=e[r][1][t];return i(a?a:t)},u,u.exports,t,e,a,n)}return a[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({"./src/js/main.js":[function(t){var e=t("siteswap-generator"),a=t("./Juggler/juggler.js"),n=t("./messages/generate-text"),i=t("./messages/lang/ca.js"),s=t("./validation/ErrorHandler.js"),r=t("./utils.js"),o=t("./validation/validate.js");t("./jQuery-plugins/plugins.js");var l=window.navigator.userAgent,d=/android/i.test(l)&&l.indexOf("534.30");$.fn.keyboard=function(t,e){e=e||function(t){return t},$(this).html("<ul>"+t.map(function(t){return"<li>"+e(t)+"</li>"}).join("")+"</ul>")};var u={},h={},c=new s,p="0123456789abcdefghijklmnopqrstuvxyz",m={values:{},href:{queryString:{}}};$(document).ready(function(){function t(){var e=$("li",m.$samples).slice(0,1);m.$samples.animate({"margin-left":-e.width()},x,"swing",function(){m.$samples.css("margin-left",0),e.detach(),m.$samples.append(e)}),setTimeout(t,1e4)}function s(t,a){a=a||t.data;var n=(a.$keyboard,a.$simulator),i=(a.$generator,{balls:P.$balls,period:P.$periods,height:P.$heights}),s={};for(var r in i)s[r]={min:parseInt(i[r].data("$min").text())||void 0,max:parseInt(i[r].data("$max").text())||void 0};var o=e.Generator(s);return o=o.map(function(t){return t.map(function(t){return p[t]}).join("")}),n.data("patterns",o),k.$patterns.keyboard(o,function(t){return'<a class="keyboard-btn" href="#simulator?play='+t+'">'+t+"</a>"}),a.juggler&&a.juggler.stop(),a.jugglerPlaying=!1,k.$patterns.data("active",!1),k.$patterns.data("position",0),k.$patterns.css("left",0),k.$patterns.data("width",null),o}function l(t,e,a){a||(t.addClass("js-select"),e.data("$select",t));var n=(t.data("minmax"),e.data("width"));if(e.outerWidth()>C.outerWidth()){var i=.5*($(window).outerWidth()-t.outerWidth())-t.offset().left,s=e.data("position")+i;-n>s?s=-n:s>0&&(s=0),e.data("position",s),e.css("left",s)}}function g(t,e){e||t.removeClass("js-select")}function f(t,e){console.log("visible"),e.removeClass(t)}function v(t,e){console.log("collapse"),e.addClass(t)}function j(t,e,a){var n=!1;n||t!==e?f("minEqMax",a):(v("minEqMax",a),n=!0),!n&&1>=t||void 0===t?(v("minLessOrEq1",a),n=!0):f("minLessOrEq1",a),n?a.removeClass("expanded"):a.addClass("expanded")}function b(t){var e=t.data,a=$(this),s=a.data("type"),r=a.data("minmax");h[s][r]=parseInt(a.text())||void 0,o(c,h,s,r,"all"),c.ok()||console.log(c.message()),n[s](u,h[s],e.outputs[s],i),c.ok()?(e.message.$error.addClass("js-hide"),e.message.$success.removeClass("js-hide")):(e.message.$success.addClass("js-hide"),e.message.$error.text(c.message()),e.message.$error.removeClass("js-hide")),c.ok()?(e.$create.removeClass("disabled"),e.$wrapper.removeClass("simulator-disabled")):(e.$create.addClass("disabled"),e.$wrapper.addClass("simulator-disabled"))}function w(t,e,a){var s,r=t.data("$min"),l=t.data("$max"),d=r.text(),p=l.text();j(d,p,t),h[e]={min:parseInt(d)||void 0,max:parseInt(p)||void 0},o(c,h,e,"min"),c.ok()||(m.message.$error.text(s),m.message.$success.addClass("js-hide")),o(c,h,e,"max",2===a?"all":"range"),c.ok()||(m.message.$error.text(s),m.message.$success.addClass("js-hide")),n[e](u,h[e],m.outputs[e],i),c.ok()?(m.$create.removeClass("disabled"),m.$wrapper.removeClass("simulator-disabled")):(m.$create.addClass("disabled"),m.$wrapper.addClass("simulator-disabled"))}function y(t){t.preventDefault();var e=t.data,n=e.$keyboard,i=e.$simulator,o=r.parseHref($(this).attr("href"),{fragment:"#header"}),l=e.href.queryString,d=o.queryString,u=$(o.fragment).offset().top;if(e.$root.animate({scrollTop:u},x,"swing"),"#header"===o.fragment){n.addClass("js-hide");var h=n.data("$shown");h&&h.removeClass("js-select")}else if("#simulator"===o.fragment){var c=i.data("patterns");c||(c=s({},e)),o.queryString.play=o.queryString.play||c[0],console.log("play",o.queryString.play),e.juggler||(e.juggler=new a({stage:{container:"juggler-simulator",width:i.width(),height:i.height()}})),l.play!==d.play&&(e.juggler.stop(),e.juggler.setPattern(o.queryString.play),e.juggler.play(),e.jugglerPlaying=!0)}e.href=o}m.$root=$("body, html");var x=300;$(".collapsed").each(function(t,e){var a=$(e);a.removeClass("js-hide");var n=a.outerWidth();console.log(n),a.data("width",n),a.css("width",n)}),$(".word-expanded").each(function(t,e){var a=$(e),n=a.outerWidth();a.data("width",n),a.css("width",n)});var C=m.$keyboard=$("#keyboard"),k={};C.data("$shown",null),$.each(["balls","periods","heights","patterns"],function(t,e){var a=k["$"+e]=$("#keyboard-"+e);a.data("position",0),a.data("active",!1)}),C.data("buttons",k);var _=$("#keyboard-left"),q=$("#keyboard-right");C.data("$left",_),C.data("$right",q),m.outputs={balls:$("#description-balls"),periods:$("#description-periods"),heights:$("#description-heights")},m.message={$success:$("#success"),$error:$("#error")};var A=m.$wrapper=$("#wrapper");m.$create=$("#create"),m.topCreate=m.$create.offset().top,m.$samples=$("#samples"),m.$header=$("#header");var L=m.$generator=$("#generator"),E=null,P={};L.data("active",!1),L.data("top",L.offset().top),L.data("$focus",E),$.each(["balls","periods","heights"],function(t,e){var a=P["$"+e]=$("#"+e);d&&a.addClass("android-browser");var n=$("#keyboard-"+e);"periods"===e?n.keyboard(r.range(1,10),function(t){return'<span class="numbers keyboard-btn number-'+t+'">'+t+"</span>"}):n.keyboard(r.range(1,25),function(t){return'<span class="numbers keyboard-btn number-'+t+'">'+t+"</span>"}),$.each(["min","max"],function(t,i){var s=$("#"+e+"-"+i);a.data("$"+i,s),s.data("$parent",a);var r=s.width();s.width(r);var o="40px";s.data("width",r),s.data("min-width",o),s.data("type",e),s.data("minmax",i),s.data("$keys",n)}),w(a,e,t)});var M=m.$simulator=$("#simulator");M.data("active",!1),L.data("inputs",P);for(var S in k){var F=k[S];F.on("click",".keyboard-btn",F,function(t){var e=$(this),a=t.data,n=a.data("$select");n&&g(n),a.data("$select",e),l(e,a)})}t(),m.$create.on("click",m,s),m.$root.on("click",L,function(t){var e=t.data,a=e.data("$focus");a&&(a.triggerDelegated("blureditable",e),e.data("$focus",null))}),L.on("click",".editable",L,function(t){t.stopPropagation();var e=t.data,a=e.data("$focus");a&&a.triggerDelegated("blureditable",e),a=$(".contenteditable",this).first(),e.data("$focus",a),a.triggerDelegated("focuseditable",e)}),L.on("click",".contenteditable",L,function(t){t.stopPropagation();var e=t.data,a=e.data("$focus");a&&a.triggerDelegated("blureditable",e),a=$(this),e.data("$focus",a),$(this).triggerDelegated("focuseditable",e)}),L.on("focuseditable",".contenteditable",C,function(t){var e=t.data,a=$(this),n=a.data("$keys"),i=a.data("$parent"),s=(e.data("$shown"),a.data("minmax"));i.addClass("expanded"),i.hasClass("minEqMax")&&f("minEqMax",i),i.hasClass("minLessOrEq1")&&f("minLessOrEq1",i),a.addClass("js-select");var r=n.data("width");r||(r=n.width()-e.outerWidth()+120,n.data("width",r)),e.removeClass("js-hide"),e.data("$shown",n),n.addClass("js-select"),n.data("active",!0);var o,d=parseInt(a.text().trim()),u=!1;"min"===s?(o=parseInt(i.data("$max").text().trim()),d>o&&(d=o,u=!0,console.log("onlymove"))):(o=parseInt(i.data("$min").text().trim()),o>d&&(d=o,u=!0,console.log("onlymove")));var h=n.data("$select");if(h&&!h.hasClass(c)&&g(h),d){var c="number-"+d;l($("."+c,n),n,u)}}),L.on("blureditable",".contenteditable",m,function(t){console.log("blureditable");var e=$(this),a=t.data,n=a.$keyboard,i=e.data("$keys"),s=n.data("$shown"),r=e.data("$parent"),o=r.data("$min").text(),l=r.data("$max").text();j(o,l,r),e.removeClass("js-select"),s&&(n.addClass("js-hide"),i.removeClass("js-select")),i.data("active",!1)}),L.on("inputeditable",".contenteditable",m,b);C.on("click",function(t){t.stopPropagation()}),_.on("click",C,function(t){var e=t.data,a=e.data("$shown");if(a.outerWidth()>e.outerWidth()){var n=e.width()-100,i=a.data("position")+n;i=Math.min(i,0),a.data("position",i),a.css("left",i)}}),q.on("click",C,function(t){var e=t.data,a=e.data("$shown");if(a.outerWidth()>e.outerWidth()){var n=e.width()-100,i=a.data("position")-n;i=Math.max(i,-a.data("width")),a.data("position",i),a.css("left",i)}}),m.$root.on("click",".internal-link.disabled",function(t){t.preventDefault()}),m.$root.on("click",".internal-link:not(.disabled)",m,y),k.$patterns.on("click","a:not(.disabled)",m,y),C.on("click",".keyboard-btn.numbers",L,function(t){var e=parseInt($(this).text()),a=t.data,n=a.data("$focus");n.text(e),n.triggerDelegated("inputeditable",a)}),$(window).on("scroll",m,function(t){var e=t.data,a=e.$generator,n=e.$simulator,i=$(window).scrollTop(),s=a.offset().top,r=n.offset().top;s-50>i?e.$header.removeClass("reduce"):e.$header.addClass("reduce");var o=a.data("active");o&&(s-50>i||i>=e.topCreate)?(a.trigger("off"),a.data("active",!1)):!o&&i>=s-50&&i<e.topCreate&&(a.trigger("on"),a.data("active",!0)),o=n.data("active"),o&&r-50>i?(n.trigger("off"),n.data("active",!1)):!o&&!A.hasClass("simulator-disabled")&&i>=r-50&&(n.trigger("on"),n.data("active",!0))}),M.on("off",C,function(t){var e=t.data,a=e.data("$shown"),n=e.data("buttons");n.$patterns.removeClass("js-select"),a&&(a.removeClass("js-select"),e.data("$shown",null)),e.addClass("js-hide")}),L.on("off",C,function(t){var e=t.data,a=e.data("$shown");a&&(a.removeClass("js-select"),e.data("$shown",null)),e.addClass("js-hide")}),M.on("on",m,function(t){console.log("ON simulator");var e=t.data,n=e.$keyboard,i=n.data("$shown"),r=n.data("buttons"),o=e.href,l=e.$simulator,d=l.data("patterns");d||(d=s({},e)),e.jugglerPlaying||(o.queryString.play=o.queryString.play||d[0],e.juggler||(e.juggler=new a({stage:{container:"juggler-simulator",width:l.width(),height:l.height()}})),e.juggler.stop(),e.juggler.setPattern(o.queryString.play),e.juggler.play(),e.jugglerPlaying=!0),i&&i.removeClass("js-select"),i=r.$patterns,n.data("$shown",i),i.addClass("js-select"),n.removeClass("js-hide");var u=r.$patterns.data("width");u||(u=r.$patterns.width()-n.outerWidth()+120,r.$patterns.data("width",u))}),L.on("on",m,function(t){{var e=t.data,a=e.$generator.data("$focus"),n=e.$keyboard,i=n.data("$shown");n.data("buttons")}i&&(i.removeClass("js-select"),n.data("$shown",null)),a&&(i=a.data("$keys"),n.data("$shown",i),i.addClass("js-select"),n.removeClass("js-hide"))})})},{"./Juggler/juggler.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/Juggler/juggler.js","./jQuery-plugins/plugins.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/jQuery-plugins/plugins.js","./messages/generate-text":"/home/pantalaimon/prog/web/projects/joggol/src/js/messages/generate-text.js","./messages/lang/ca.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/messages/lang/ca.js","./utils.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/utils.js","./validation/ErrorHandler.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/validation/ErrorHandler.js","./validation/validate.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/validation/validate.js","siteswap-generator":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/index.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Animation/Animation.js":[function(t,e){function a(){var t=Date.now(),e={time:(t-this.played)*this.v};this.func(e),this.id=window.requestAnimationFrame(a.bind(this))}t("./rAF.js");var n=function(t){this.func=t,this.on=!1,this.paused=this.played=Date.now(),this.v=1,this.active=!1};n.prototype={play:function(){this.func&&!this.on&&(this.paused&&(this.played+=Date.now()-this.paused),a.call(this),this.active=this.on=!0)},pause:function(){this.func&&this.on&&(cancelAnimationFrame(this.id),this.active=this.on=!1,this.paused=Date.now())},mute:function(){this.func&&this.on&&(cancelAnimationFrame(this.id),this.active=this.on=!1,this.paused=void 0)},stop:function(){this.func&&(this.pause(),this.paused=this.played=Date.now())},seek:function(t){if(this.func){var e=Date.now();this.played=e-t,this.paused=e}},speed:function(t){if(this.func&&isFinite(t))if(t){t/=this.v;var e=Date.now(),a=(e-this.played)/t;if(this.played=e-a,this.paused){var n=(e-this.paused)/t;this.paused=e-n}this.v*=t,this.active&&this.play()}else this.pause(),this.active=!0},remove:function(){this.func&&(this.pause(),delete this.func)}},e.exports=n},{"./rAF.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Animation/rAF.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Animation/rAF.js":[function(){!function(){for(var t=0,e=["ms","moz","webkit","o"],a=0;a<e.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[e[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[a]+"CancelAnimationFrame"]||window[e[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e){var a=(new Date).getTime(),n=Math.max(0,16-(a-t)),i=window.setTimeout(function(){e(a+n)},n);return t=a+n,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}()},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Layer.js":[function(t,e){function a(){this.shapes=[],this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.ctx=this.canvas.getContext("2d")}var n=a.prototype;n.add=function(t){this.shapes.push(t),t.layer=this},n.draw=function(){this.clear(),this.shapes.forEach(function(t){t.draw()})};var i=window.navigator.userAgent,s=/android/i.test(i)&&i.indexOf("534.30");s?(console.log("native_android_browser"),n.clear=function(){this.ctx.clearRect(0,0,this.width,this.height),this.canvas.style.display="none",this.canvas.offsetHeight,this.canvas.style.display="inherit"}):n.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},n.remove=function(){this.clear(),this.shapes.forEach(function(t){delete t.layer}),this.shapes=[]},e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Shape/Circle.js":[function(t,e){function a(t){this.shape=t}a.prototype.draw=function(){var t=this.shape,e=this.layer;e.ctx.beginPath(),e.ctx.arc(t.x,t.y,t.radius,0,2*Math.PI),e.ctx.closePath(),t.fill&&(e.ctx.fillStyle=t.fill,e.ctx.fill())},a.prototype.setX=function(t){this.shape.x=t},a.prototype.setY=function(t){this.shape.y=t},e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Stage.js":[function(t,e){function a(t){this.layers=[];var e=this.container=document.getElementById(t.container);if(!e)throw new Error("element #"+t.container+" does not exist");var a=e.style;a.position="relative",a.width=t.width+"px",a.height=t.height+"px",a.overflow="hidden",this.width=parseInt(t.width),this.height=parseInt(t.height)}a.prototype.add=function(t){var e=t.canvas;this.layers.push(t),e.width=t.width=this.width,e.height=t.height=this.height,this.container.appendChild(e)},a.prototype.resize=function(t){var e=parseInt(t.width),a=parseInt(t.height),n=this.container.style;isFinite(e)&&(n.width=e+"px",this.width=e),isFinite(a)&&(n.height=a+"px",this.height=a)},e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Kinema.js":[function(t,e){e.exports={Animation:t("./Animation/Animation.js"),Stage:t("./Canvas/Stage.js"),Layer:t("./Canvas/Layer.js"),Circle:t("./Canvas/Shape/Circle.js")}},{"./Animation/Animation.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Animation/Animation.js","./Canvas/Layer.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Layer.js","./Canvas/Shape/Circle.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Shape/Circle.js","./Canvas/Stage.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Canvas/Stage.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/index.js":[function(t,e){e.exports={Buffer:t("./src/Buffer"),Generator:t("./src/Generator")}},{"./src/Buffer":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Buffer.js","./src/Generator":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Generator.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/node_modules/lazyarray-lite/lazyarray-lite.js":[function(t,e){function a(t){var e=this._values={},a=this._methods={};this.maxLength=1/0,"function"==typeof t?a.get=t:(this.maxLength="number"==typeof t.maxLength?t.maxLength:1/0,t.get?a.get=t.get:t.next&&(a.next=t.next));var n=this._elems=a.get?{}:[];for(var i in t){var s=t[i];/0|[1-9]\d*/.exec(i)?n[i]=s:"init"===i&&t.init.call(e)}}function n(t,e,a){for(var n=[],i=e;a>i;++i){var s=t[i];if(void 0===s)break;n.push(s)}return n}function i(t,e,a){var n=this._elems,i=this.maxLength;void 0!==i&&e>i&&(e=i);for(var s=t;e>s;++s)if(void 0===n[s]){var r=a.call(this,s);if(void 0===r){this.maxLength=s;break}n[s]=r}}a.prototype.get=function(t){return this.slice(t,t+1)[0]},a.prototype.slice=function(t,e){var a=this._elems,s=this._methods;if(s.get)i.call(this,t,e,function(t){return s.get.call(null,t)});else{var r=s.next.length;i.call(this,a.length,e,function(t){var e=this._elems.slice(t-r).reverse();return s.next.apply(this._values,e)})}return n(a,t,e)},e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Buffer.js":[function(t,e){function a(t){return this.minLength=0,this.maxLength=1/0,this instanceof a?void(this.patterns=new u({init:function(){this.balls=t.balls,this.period=t.period,this.height=t.height,n.call(this)},next:function(){return i(this)}})):new a(t)}function n(){this.balls=h(this,"balls",function(t){return t.balls.max}),this.period=h(this,"period",1),this.height=h(this,"height",0,function(t){return t.balls.max*t.period.max}),this.b=this.balls.max}function i(t){for(;t.b>=t.balls.min;){for(void 0===t.p&&(t.p=t.period.max,periodMin=Math.max(t.period.min,2));t.p>=periodMin;){for(void 0===t.h&&(heightMax=Math.min(t.height.max,t.p*t.b),heightMin=Math.max(t.height.min,t.b+1),t.h=heightMax);t.h>=heightMin;){void 0===t.pos&&s(t);for(var e=r(t);e;)return e;t.pos=void 0,--t.h}t.h=void 0,--t.p}if(t.period.min<=1&&1<=t.period.max&&t.height.min<=t.b&&t.b<=t.height.max)return t.p=void 0,[t.b--];t.p=void 0,--t.b}return void 0}function s(t){t.used={},t.stack=new d,t.array=[],t.pos=0,t.rest=t.b*t.p,t.val=t.h,t.top={min:t.h,index:-1},t.i=t.h,t.num=t.h%t.p,o(t)}function r(t){if(1===t.p&&t.b===t.h)return[balls];for(;t.i>=t.top.min||1!==t.pos;)if(t.pos<t.p)t.i<t.top.min?l(t):(t.num=(t.i+t.pos)%t.p,void 0===t.used[t.num]?o(t):--t.i);else{if(0===t.top.index){var e=[].concat(t.array);return l(t),e}l(t)}return!1}function o(t){if(t.top.index=t.val>t.i?0:t.top.index+1,t.used[t.num]=!0,t.array.push(t.i),t.val=t.array[t.top.index],t.rest-=t.i,++t.pos,t.stack.push(t.top),t.pos<t.p){var e=t.p-t.pos;t.i=Math.min(t.val,t.rest);var a=t.rest-t.h*(e-1);e>1&&a++,t.top={min:Math.max(a,0),index:t.top.index}}}function l(t){t.top=t.stack.pop(),t.top.index=t.stack.top().index,t.val=t.array[t.top.index],--t.pos,t.rest+=t.i=t.array.pop(),t.num=(t.i+t.pos)%t.p,t.used[t.num]=void 0,--t.i}function d(){this.elems=[]}var u=t("lazyarray-lite"),h=t("./utils.js").checkValidParameter;a.prototype.slice=function(t,e){var a=this.patterns.slice(t,e);return"number"!=typeof this.length&&(this.minLength=Math.min(this.patterns.maxLength,e),this.maxLength=Math.min(this.patterns.maxLength,this.maxLength),this.minLength===this.maxLength&&(this.length=this.minLength)),a},e.exports=a,d.prototype={push:function(t){return this.elems.push(t)},pop:function(){return this.elems.pop()},top:function(){return this.elems[this.elems.length-1]}}},{"./utils.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/utils.js","lazyarray-lite":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/node_modules/lazyarray-lite/lazyarray-lite.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Generator.js":[function(t,e){function a(t){var e=new n(t);return e.slice(0,1/0)}var n=t("./Buffer.js");e.exports=a},{"./Buffer.js":"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/Buffer.js"}],"/home/pantalaimon/prog/web/projects/joggol/node_modules/siteswap-generator/src/utils.js":[function(t,e){function a(t){return"object"==typeof t&&null!==t}function n(t,e,a){return"`"+t+"` is "+e+". Expected "+a.join(" or ")+"."}function i(t,e,i,s){var r=t[e],o=void 0!==s,l=void 0!==i;if(l&&o&&void 0===r)r={max:"function"==typeof s?s(t):s,min:"function"==typeof i?i(t):i};else{if("number"==typeof r&&(t[e]=r={max:r}),!a(r))throw new Error(n(e,null===r?"null":typeof r,["number","non-null object"]));if(o&&void 0===r.max)r.max="function"==typeof s?s(t):s;else if("number"!=typeof r.max)throw new Error(n(e+".max",null===r.max?"null":typeof r.max,["number"]));if(void 0===r.min)r.min="function"==typeof i?i(t):i;else if("number"!=typeof r.min)throw new Error(n(e+".min",null===r.min?"null":typeof r.min,["number","undefined"]))}return r}e.exports={checkValidParameter:i}},{}],"/home/pantalaimon/prog/web/projects/joggol/src/js/Juggler/extend.js":[function(t,e){function a(){"use strict";var t,e,i,s,o,l,d=arguments[0],u=1,h=arguments.length,c=!1;for("boolean"==typeof d?(c=d,d=arguments[1]||{},u=2):("object"!=typeof d&&"function"!=typeof d||null==d)&&(d={});h>u;++u)if(t=arguments[u],null!=t)for(e in t)i=d[e],s=t[e],d!==s&&(c&&s&&(r(s)||(o=Array.isArray(s)))?(o?(o=!1,l=i&&Array.isArray(i)?i:[]):l=i&&r(i)?i:{},d[e]=a(c,l,s)):s!==n&&(d[e]=s));return d}var n,i=Object.prototype.hasOwnProperty,s=Object.prototype.toString,r=function(t){"use strict";if(!t||"[object Object]"!==s.call(t))return!1;var e=i.call(t,"constructor"),a=t.constructor&&t.constructor.prototype&&i.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!a)return!1;var r;for(r in t);return r===n||i.call(t,r)};e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/src/js/Juggler/juggler.js":[function(t,e){function a(t,e){var a,n=e.time,i=e.position,s=n.now;if(s<n.thrown){a=i.middle.x-i.start.x,t.setX(i.start.x+a*s/n.thrown);var r=.5*e.gravity*n.thrown;t.setY(i.start.y-r*s+.5*e.gravity*s*s)}else a=i.end.x-i.middle.x,t.setX(i.middle.x+a*(s-n.thrown)/n.caught),t.setY(i.middle.y)}var n=t("kinemajs"),i=t("./extend.js"),s=function(){function t(t,e){var a,n=t.juggling,i=t.stage,s=(e-n.waiting.time)*n.interval;if(i.width){var r=(n.integer_height-n.waiting.time)*n.interval,o=r/s;a=o*i.width,console.log("uu",o)}else{var r=(3-n.waiting.time)*n.interval,o=r/s;a=1.5*n.height*o}return{width:.5*a,gravity:8*n.height/(s*s),shift:n.waiting.shift*o,radius:n.balls.radius*o}}function e(e){console.log(e.stage),this.attrs={},this.attrs=i(!0,this.attrs,{stage:{width:500,height:650},juggling:{interval:500,waiting:{time:.5,shift:50},integer_height:5,balls:{radius:10,colors:["red","blue","green","yellow","black","orange","purple"]},height:.8*e.stage.height,center:{x:.5*e.stage.width,y:.9*e.stage.height}},layer:new n.Layer},e),this.attrs.stage=new n.Stage(this.attrs.stage),this.attrs.stage.add(this.attrs.layer);var a=this.attrs.juggling,s=t(this.attrs,this.attrs.juggling.integer_height);a.width=s.width,a.gravity=s.gravity}for(var s="abcdefghijklmnopqrstuvwxyz",r={},o=0;10>o;++o)r[o]=o;for(var o=0;o<s.length;++o)r[s[o]]=o+10;return e.toPattern=function(t){return t.split("").map(function(t){return r[t]})},e.prototype.setPattern=function(i){"string"==typeof i&&(i=e.toPattern(i));var s,r,o,l,d=this.attrs,u=(d.stage,d.juggling),h=Math.max.apply(null,i);if(h>u.integer_height){var c=t(d,h);l=c.width,o=c.gravity,r=c.shift,s=c.radius}else r=u.waiting.shift,l=u.width,o=u.gravity,s=u.balls.radius;var p=i.reduce(function(t,e){return t+e},0);if(p%i.length!=0)throw new Error("El patró es irrealitzable. Es necessita un nombre enter de boles. Actualment: "+p/i.length);p/=i.length;for(var m=[],g=0;g<i.length;++g){var f={};f.value=i[g],f.next=(g+f.value)%i.length,f.period=(f.value-u.waiting.time)*u.interval,f.velocity=.5*o*f.period,m.push(f)}for(var g=0;g<i.length;++g)if(!m[g].cycle){for(var v={},j=g,b=0;!v[j];)v[j]=!0,j=m[j].next,b+=m[j].value;for(var j in v)m[j].cycle=b}var w=u.center.y;r/=2;var y=u.center.x-l/2,x=u.center.x+l/2,$=0,C=0,g=0,k=0,_={};for(this.balls=[];p>g;){if(0!==m[C].value)if(void 0===_[$]){_[$]=g,_[$+m[C].value]=g,++g;var q={figure:new n.Circle({x:$%2===0?y+15:x-15,y:w,radius:s||10,fill:u.balls.colors[k%u.balls.colors.length]}),start:$,cycle:m[C].cycle};this.balls.push(q),d.layer.add(q.figure),++k}else _[$+m[C].value]=m[C].value;++$,C=$%m.length}var A=this;d.animation=new n.Animation(function(t){var e=Math.floor(t.time/u.interval);A.balls.forEach(function(n){var i=t.time-u.interval*n.start;if(i>=0){i%=n.cycle*u.interval;for(var s,l=n.start%m.length;;){s=m[l].value;var d=s*u.interval;if(d>i)break;i-=d,l=m[l].next}var h=e-Math.floor(i/u.interval),c={};c.start=h%2===0?{x:y+r,y:w}:{x:x-r,y:w},(h+m[l].value)%2===0?(c.middle={x:y-r,y:w},c.end={x:y+r,y:w}):(c.middle={x:x+r,y:w},c.end={x:x-r,y:w});var p={value:m[l].value,time:{total:u.interval,thrown:m[l].period,caught:u.interval*m[l].value-m[l].period,now:i},left:h%2===0,gravity:o,position:c};a(n.figure,p)}}),d.layer.draw()})},e.prototype.removePattern=function(){var t=this;t.attrs.animation.stop(),t.attrs.layer.remove()},e.prototype.play=function(){var t=this.attrs.animation;t&&t.play()},e.prototype.pause=function(){var t=this.attrs.animation;t&&t.pause()},e.prototype.mute=function(){var t=this.attrs.animation;t&&t.mute()},e.prototype.stop=function(){var t=this.attrs.animation;t&&t.stop(),this.attrs.layer.remove()},e.prototype.speed=function(t){var e=this.attrs.animation;e&&e.speed(t)},e.prototype.colors=function(t){this.stop(),this.attrs.juggling.balls.colors=[].concat(t)},e}();e.exports=s},{"./extend.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/Juggler/extend.js",kinemajs:"/home/pantalaimon/prog/web/projects/joggol/node_modules/kinemajs/src/lib/Kinema.js"}],"/home/pantalaimon/prog/web/projects/joggol/src/js/jQuery-plugins/plugins.js":[function(){$.fn.triggerDelegated=function(t,e){var a=$.Event(t);a.target=this[0],e.trigger(a)}},{}],"/home/pantalaimon/prog/web/projects/joggol/src/js/messages/generate-text.js":[function(t,e){e.exports={balls:function(t,e,a,n){t.error=!1,void 0!==e.min&&void 0!==e.max&&e.min<=e.max&&e.min>0?e.min===e.max?t.balls=n.balls[0](e.min,e.max):1===e.min?t.balls=n.balls[1](e.min,e.max):e.min<e.max&&(t.balls=n.balls[2](e.min,e.max)):t.error=n.balls[3](e.min,e.max),a.text(t.balls)},periods:function(t,e,a,n){t.error=!1,void 0!==e.min&&void 0!==e.max&&e.min<=e.max&&e.min>0?e.min===e.max?t.period=n.periods[0](e.min,e.max):1===e.min?t.period=n.periods[1](e.min,e.max):e.min<e.max&&(t.period=n.periods[2](e.min,e.max)):t.error=n.periods[3](e.min,e.max),a.text(t.period)},heights:function(t,e,a,n){t.error=!1,void 0===e.min&&void 0===e.max?t.height="":(void 0===e.min||e.min<=1)&&e.max>=0?t.height=n.heights[0](e.min,e.max):void 0===e.max&&e.min>=0?t.height=n.heights[1](e.min,e.max):e.min<=e.max&&e.min>=0?t.height=e.min===e.max?n.heights[2](e.min,e.max):n.heights[3](e.min,e.max):t.error=n.heights[4](e.min,e.max),a.text(t.height)}}},{}],"/home/pantalaimon/prog/web/projects/joggol/src/js/messages/lang/ca.js":[function(t,e){function a(t){return t[0].toUpperCase(t)+t.substring(1)}e.exports={order:["patterns","balls","periods","heights"],patterns:"Patrons",balls:[function(t,e){return"de "+e+" boles"},function(t,e){return"de màxim "+e+" boles"},function(t,e){return"de "+t+" a "+e+" boles"},function(){return"L'interval de boles que demanes no es correcte"}],periods:[function(t,e){return"de període "+e},function(t,e){return"amb períodes no més grans de "+e},function(t,e){return"amb períodes entre "+t+" i "+e},function(){return"L'interval de períodes que demanes no es correcte"}],heights:[function(t,e){return"amb llançaments no més alts de "+e},function(t){return"amb llançaments que continguin alguna alçada major o igual a "+t},function(t){return"amb algun llançament de "+t+" i no més alt"},function(t,e){return"amb llançaments majors o iguals a "+t+" i mai superiors a "+e},function(){return"L'interval de períodes que demanes no es correcte"}],message:{isNotAInt:function(t){return t+"no és un nombre enter"},invalidRange:function(t,e){return e={balls:"el nombre de boles",periods:"el període",heights:"l'alçada"}[e],a(e)+" menor ("+t.min+") no pot sobrepassar "+e+" major ("+t.max+")"},emptyWithBigPeriod:function(){return"No existeixen patrons vàlids dintre del rang indicat. Prova que l'alçada màxima sigui major al nombre mínim de boles"},emptyWithLittlePeriod:function(){return"No existeixen patrons vàlids dintre del rang indicat. Prova que l'alçada màxima sigui major o igual al nombre mínim de boles"}}}},{}],"/home/pantalaimon/prog/web/projects/joggol/src/js/utils.js":[function(t,e){e.exports={parseHref:function(t,e){var a=t.split("?"),n=a[0],i={};if(a[1]){var s=a[1].split("&");for(var r in s)a=s[r].split("="),i[a[0]]=a[1]}return{fragment:n||e.fragment,queryString:i}},range:function(t,e){for(var a=[],n=t;e>=n;++n)a.push(n);return a},isInt:function(t){return!isNaN(t)&&t===Math.floor(t)}}},{}],"/home/pantalaimon/prog/web/projects/joggol/src/js/validation/ErrorHandler.js":[function(t,e){function a(){this._length=0,this._errors={}}a.prototype={ok:function(){return 0===this._length},add:function(t,e){t in this._errors||++this._length,this._errors[t]=e},remove:function(t){t in this._errors&&(delete this._errors[t],--this._length)},message:function(){for(var t in this._errors)return this._errors[t]}},e.exports=a},{}],"/home/pantalaimon/prog/web/projects/joggol/src/js/validation/validate.js":[function(t,e){var a=t("./../messages/lang/ca.js"),n=t("../utils.js");e.exports=function(t,e,i,s,r){var o=a.message,l=e[i],d=l[s];if(n.isInt(d)?t.remove(s+i):t.add(s+i,o.isNotAInt(d)),("all"===r||"range"===r)&&(l.min>l.max?(console.log("min > max"),t.add(i,o.invalidRange(l,i)),console.log(t.ok())):t.remove(i)),"all"===r){var u=e.balls.min,h=e.heights.max,c=e.periods.min;u>=h&&c>1?t.add("all",o.emptyWithBigPeriod()):1===c&&u>h?t.add("all",o.emptyWithLittlePeriod()):t.remove("all")}}},{"../utils.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/utils.js","./../messages/lang/ca.js":"/home/pantalaimon/prog/web/projects/joggol/src/js/messages/lang/ca.js"}]},{},["./src/js/main.js"]);