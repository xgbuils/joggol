!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){var a=Date.now(),b={time:(a-this.played)*this.v};this.func(b),this.id=window.requestAnimationFrame(c.bind(this))}a("./rAF.js");var d=function(a){this.func=a,this.on=!1,this.paused=this.played=Date.now(),this.v=1,this.active=!1};d.prototype={play:function(){this.func&&!this.on&&(this.paused&&(this.played+=Date.now()-this.paused),c.call(this),this.active=this.on=!0)},pause:function(){this.func&&this.on&&(cancelAnimationFrame(this.id),this.active=this.on=!1,this.paused=Date.now())},mute:function(){this.func&&this.on&&(cancelAnimationFrame(this.id),this.active=this.on=!1,this.paused=void 0)},stop:function(){this.func&&(this.pause(),this.paused=this.played=Date.now())},seek:function(a){if(this.func){var b=Date.now();this.played=b-a,this.paused=b}},speed:function(a){if(this.func&&isFinite(a))if(a){a/=this.v;var b=Date.now(),c=(b-this.played)/a;if(this.played=b-c,this.paused){var d=(b-this.paused)/a;this.paused=b-d}this.v*=a,this.active&&this.play()}else this.pause(),this.active=!0},remove:function(){this.func&&(this.pause(),delete this.func)}},b.exports=d},{"./rAF.js":2}],2:[function(){!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}()},{}],3:[function(a,b){function c(){this.shapes=[],this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.ctx=this.canvas.getContext("2d")}var d=c.prototype;d.add=function(a){this.shapes.push(a),a.layer=this},d.draw=function(){this.clear(),this.shapes.forEach(function(a){a.draw()})};var e=window.navigator.userAgent,f=/android/i.test(e)&&e.indexOf("534.30");f?(console.log("native_android_browser"),d.clear=function(){this.ctx.clearRect(0,0,this.width,this.height),this.canvas.style.display="none",this.canvas.offsetHeight,this.canvas.style.display="inherit"}):d.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},d.remove=function(){this.clear(),this.shapes.forEach(function(a){delete a.layer}),this.shapes=[]},b.exports=c},{}],4:[function(a,b){function c(a){this.shape=a}c.prototype.draw=function(){var a=this.shape,b=this.layer;b.ctx.beginPath(),b.ctx.arc(a.x,a.y,a.radius,0,2*Math.PI),b.ctx.closePath(),a.fill&&(b.ctx.fillStyle=a.fill,b.ctx.fill())},c.prototype.setX=function(a){this.shape.x=a},c.prototype.setY=function(a){this.shape.y=a},b.exports=c},{}],5:[function(a,b){function c(a){this.layers=[];var b=this.container=document.getElementById(a.container);if(!b)throw new Error("element #"+a.container+" does not exist");var c=b.style;c.position="relative",c.width=a.width+"px",c.height=a.height+"px",c.overflow="hidden",this.width=parseInt(a.width),this.height=parseInt(a.height)}c.prototype.add=function(a){var b=a.canvas;this.layers.push(a),b.width=a.width=this.width,b.height=a.height=this.height,this.container.appendChild(b)},c.prototype.resize=function(a){var b=parseInt(a.width),c=parseInt(a.height),d=this.container.style;isFinite(b)&&(d.width=b+"px",this.width=b),isFinite(c)&&(d.height=c+"px",this.height=c)},b.exports=c},{}],6:[function(a,b){b.exports={Animation:a("./Animation/Animation.js"),Stage:a("./Canvas/Stage.js"),Layer:a("./Canvas/Layer.js"),Circle:a("./Canvas/Shape/Circle.js")}},{"./Animation/Animation.js":1,"./Canvas/Layer.js":3,"./Canvas/Shape/Circle.js":4,"./Canvas/Stage.js":5}],7:[function(a,b){b.exports=a("./src/siteswap-generator")},{"./src/siteswap-generator":8}],8:[function(a,b){function c(a){var b={};for(var c in a)b[c]=a[c];return b}function d(a,b,c){var d=[];"number"==typeof a&&(a={max:a}),void 0===a.min&&(a.min=a.max),"number"==typeof b&&(b={max:b}),void 0===b.min&&(b.min=1),void 0===c?c={max:b.max*a.max}:"number"==typeof c?c={max:c}:"number"!=typeof c.max&&(c.max=b.max*a.max),void 0===c.min&&(c.min=0),console.log(a,b,c);for(var f=a.max;f>=a.min;--f){for(var g,h,i=Math.max(b.min,2),j=b.max;j>=i;--j){g=Math.min(c.max,j*f),h=Math.max(c.min,f+1);for(var k=g;k>=h;--k)e(f,j,k,d)}b.min<=1&&1<=b.max&&c.min<=f&&f<=c.max&&d.push([f])}return d}function e(a,b,c,d){if(1===b&&a===c)d.push([a]);else{var e={};e[c%b]=!0,f(b,c,e,{array:[c],index:0,pos:1,rest:a*b-c},d)}}function f(a,b,d,e,g){if(e.pos<a){var h=a-e.pos,i=e.array[e.index],j=Math.min(i,e.rest),k=e.rest-b*(h-1);h>1&&k++,k=Math.max(k,0);for(var l=j;l>=k;--l){var m=i>l?0:e.index+1,n=(l+e.pos)%a;if(void 0===d[n]){var o=c(d);o[n]=!0,f(a,b,o,{array:e.array.concat([l]),index:m,pos:e.pos+1,rest:e.rest-l},g)}}}else 0===e.index&&g.push(e.array)}b.exports=d},{}],9:[function(a,b){function c(){"use strict";var a,b,e,f,h,i,j=arguments[0],k=1,l=arguments.length,m=!1;for("boolean"==typeof j?(m=j,j=arguments[1]||{},k=2):("object"!=typeof j&&"function"!=typeof j||null==j)&&(j={});l>k;++k)if(a=arguments[k],null!=a)for(b in a)e=j[b],f=a[b],j!==f&&(m&&f&&(g(f)||(h=Array.isArray(f)))?(h?(h=!1,i=e&&Array.isArray(e)?e:[]):i=e&&g(e)?e:{},j[b]=c(m,i,f)):f!==d&&(j[b]=f));return j}var d,e=Object.prototype.hasOwnProperty,f=Object.prototype.toString,g=function(a){"use strict";if(!a||"[object Object]"!==f.call(a))return!1;var b=e.call(a,"constructor"),c=a.constructor&&a.constructor.prototype&&e.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!b&&!c)return!1;var g;for(g in a);return g===d||e.call(a,g)};b.exports=c},{}],10:[function(a,b){function c(a,b){var c,d=b.time,e=b.position,f=d.now;if(f<d.thrown){c=e.middle.x-e.start.x,a.setX(e.start.x+c*f/d.thrown);var g=.5*b.gravity*d.thrown;a.setY(e.start.y-g*f+.5*b.gravity*f*f)}else c=e.end.x-e.middle.x,a.setX(e.middle.x+c*(f-d.thrown)/d.caught),a.setY(e.middle.y)}var d=a("kinemajs"),e=a("./extend.js"),f=function(){function a(a,b){var c,d=a.juggling,e=a.stage,f=(b-d.waiting.time)*d.interval;if(e.width){var g=(d.integer_height-d.waiting.time)*d.interval,h=g/f;c=h*e.width,console.log("uu",h)}else{var g=(3-d.waiting.time)*d.interval,h=g/f;c=1.5*d.height*h}return{width:.5*c,gravity:8*d.height/(f*f),shift:d.waiting.shift*h,radius:d.balls.radius*h}}function b(b){console.log(b.stage),this.attrs={},this.attrs=e(!0,this.attrs,{stage:{width:500,height:650},juggling:{interval:500,waiting:{time:.5,shift:50},integer_height:5,balls:{radius:10,colors:["red","blue","green","yellow","black","orange","purple"]},height:.8*b.stage.height,center:{x:.5*b.stage.width,y:.9*b.stage.height}},layer:new d.Layer},b),this.attrs.stage=new d.Stage(this.attrs.stage),this.attrs.stage.add(this.attrs.layer);var c=this.attrs.juggling,f=a(this.attrs,this.attrs.juggling.integer_height);c.width=f.width,c.gravity=f.gravity}for(var f="abcdefghijklmnopqrstuvwxyz",g={},h=0;10>h;++h)g[h]=h;for(var h=0;h<f.length;++h)g[f[h]]=h+10;return b.toPattern=function(a){return a.split("").map(function(a){return g[a]})},b.prototype.setPattern=function(e){"string"==typeof e&&(e=b.toPattern(e));var f,g,h,i,j=this.attrs,k=(j.stage,j.juggling),l=Math.max.apply(null,e);if(l>k.integer_height){var m=a(j,l);i=m.width,h=m.gravity,g=m.shift,f=m.radius}else g=k.waiting.shift,i=k.width,h=k.gravity,f=k.balls.radius;var n=e.reduce(function(a,b){return a+b},0);if(n%e.length!=0)throw new Error("El patr√≥ es irrealitzable. Es necessita un nombre enter de boles. Actualment: "+n/e.length);n/=e.length;for(var o=[],p=0;p<e.length;++p){var q={};q.value=e[p],q.next=(p+q.value)%e.length,q.period=(q.value-k.waiting.time)*k.interval,q.velocity=.5*h*q.period,o.push(q)}for(var p=0;p<e.length;++p)if(!o[p].cycle){for(var r={},s=p,t=0;!r[s];)r[s]=!0,s=o[s].next,t+=o[s].value;for(var s in r)o[s].cycle=t}var u=k.center.y;g/=2;var v=k.center.x-i/2,w=k.center.x+i/2,x=0,y=0,p=0,z=0,A={};for(this.balls=[];n>p;){if(0!==o[y].value)if(void 0===A[x]){A[x]=p,A[x+o[y].value]=p,++p;var B={figure:new d.Circle({x:x%2===0?v+15:w-15,y:u,radius:f||10,fill:k.balls.colors[z%k.balls.colors.length]}),start:x,cycle:o[y].cycle};this.balls.push(B),j.layer.add(B.figure),++z}else A[x+o[y].value]=o[y].value;++x,y=x%o.length}var C=this;j.animation=new d.Animation(function(a){var b=Math.floor(a.time/k.interval);C.balls.forEach(function(d){var e=a.time-k.interval*d.start;if(e>=0){e%=d.cycle*k.interval;for(var f,i=d.start%o.length;;){f=o[i].value;var j=f*k.interval;if(j>e)break;e-=j,i=o[i].next}var l=b-Math.floor(e/k.interval),m={};m.start=l%2===0?{x:v+g,y:u}:{x:w-g,y:u},(l+o[i].value)%2===0?(m.middle={x:v-g,y:u},m.end={x:v+g,y:u}):(m.middle={x:w+g,y:u},m.end={x:w-g,y:u});var n={value:o[i].value,time:{total:k.interval,thrown:o[i].period,caught:k.interval*o[i].value-o[i].period,now:e},left:l%2===0,gravity:h,position:m};c(d.figure,n)}}),j.layer.draw()})},b.prototype.removePattern=function(){var a=this;a.attrs.animation.stop(),a.attrs.layer.remove()},b.prototype.play=function(){var a=this.attrs.animation;a&&a.play()},b.prototype.pause=function(){var a=this.attrs.animation;a&&a.pause()},b.prototype.mute=function(){var a=this.attrs.animation;a&&a.mute()},b.prototype.stop=function(){var a=this.attrs.animation;a&&a.stop(),this.attrs.layer.remove()},b.prototype.speed=function(a){var b=this.attrs.animation;b&&b.speed(a)},b.prototype.colors=function(a){this.stop(),this.attrs.juggling.balls.colors=[].concat(a)},b}();b.exports=f},{"./extend.js":9,kinemajs:6}],11:[function(a){function b(){this._length=0,this._errors={}}function c(a,b){for(var c=[],d=a;b>=d;++d)c.push(d);return c}function d(a,b,c){var d=$.Event(a);d.target=c,b.trigger(d)}function e(a,b){var c=a.split("?"),d=c[0],e={};if(c[1]){var f=c[1].split("&");for(var g in f)c=f[g].split("="),e[c[0]]=c[1]}return{fragment:d||b.fragment,queryString:e}}function f(a){return!isNaN(a)&&a===Math.floor(a)}function g(a){return a[0].toUpperCase(a)+a.substring(1)}function h(a,b,c,d){console.log("validate");var e=a[b],g=e[c];if(f(g)?q.remove(c+b):q.add(c+b,m.isNotAInt(g)),("all"===d||"range"===d)&&(e.min>e.max?(console.log("min > max"),q.add(b,m.invalidRange(e,b)),console.log(q.ok())):q.remove(b)),"all"===d){var h=a.balls.min,i=a.heights.max,j=a.periods.min;h>=i&&j>1?q.add("all",m.emptyWithBigPeriod()):1===j&&h>i?q.add("all",m.emptyWithLittlePeriod()):q.remove("all")}}var i=a("siteswap-generator"),j=a("./Juggler/juggler.js"),k=window.navigator.userAgent,l=/android/i.test(k)&&k.indexOf("534.30");b.prototype={ok:function(){return 0===this._length},add:function(a,b){a in this._errors||++this._length,this._errors[a]=b},remove:function(a){a in this._errors&&(delete this._errors[a],--this._length)},message:function(){for(var a in this._errors)return this._errors[a]}},$.fn.keyboard=function(a,b){b=b||function(a){return a},$(this).html("<ul>"+a.map(function(a){return"<li>"+b(a)+"</li>"}).join("")+"</ul>")};var m={isNotAInt:function(a){return a+"no √©s un nombre enter"},invalidRange:function(a,b){return b={balls:"el nombre de boles",periods:"el per√≠ode",heights:"l'al√ßada"}[b],g(b)+" menor ("+a.min+") no pot sobrepassar "+b+" major ("+a.max+")"},emptyWithBigPeriod:function(){return"No existeixen patrons v√†lids dintre del rang indicat. Prova que l'al√ßada m√†xima sigui major al nombre m√≠nim de boles"},emptyWithLittlePeriod:function(){return"No existeixen patrons v√†lids dintre del rang indicat. Prova que l'al√ßada m√†xima sigui major o igual al nombre m√≠nim de boles"}},n={balls:function(a,b,c){a.error=!1,void 0!==b.min&&void 0!==b.max&&b.min<=b.max&&b.min>0?b.min===b.max?a.balls="de "+b.max+" boles":1===b.min?a.balls="de m√†xim "+b.max+" boles":b.min<b.max&&(a.balls="de "+b.min+" a "+b.max+" boles"):a.error="L'interval de boles que demanes no es correcte",c.text(a.balls)},periods:function(a,b,c){a.error=!1,void 0!==b.min&&void 0!==b.max&&b.min<=b.max&&b.min>0?b.min===b.max?a.period="de per√≠ode "+b.max:1===b.min?a.period="amb periodes no m√©s grans de "+b.max:b.min<b.max&&(a.period="amb per√≠odes entre "+b.min+" i "+b.max):a.error="L'interval de per√≠odes que demanes no es correcte",c.text(a.period)},heights:function(a,b,c){a.error=!1,void 0===b.min&&void 0===b.max?a.height="":(void 0===b.min||b.min<=1)&&b.max>=0?a.height="amb llan√ßaments no m√©s alts de "+b.max:void 0===b.max&&b.min>=0?a.height="amb llan√ßaments que continguin alguna al√ßada major o igual a "+b.min:b.min<=b.max&&b.min>=0?a.height=b.min===b.max?"amb algun llan√ßament de "+b.min+" i no m√©s alt":"amb llan√ßaments majors o iguals a "+b.min+" i mai superiors a "+b.max:a.error="L'interval de periodes que demanes no es correcte",c.text(a.height)}},o={},p={},q=new b,r="0123456789abcdefghijklmnopqrstuvxyz",s={values:{},href:{queryString:{}}};$(document).ready(function(){function a(){var b=$("li",s.$samples).slice(0,1);s.$samples.animate({"margin-left":-b.width()},x,"swing",function(){s.$samples.css("margin-left",0),b.detach(),s.$samples.append(b)}),setTimeout(a,1e4)}function b(a,b){b=b||a.data;var c=(b.$keyboard,b.$simulator),d=(b.$generator,[F.$balls,F.$periods,F.$heights]),e=$.map(d,function(a){return{min:parseInt(a.data("$min").text())||void 0,max:parseInt(a.data("$max").text())||void 0}}),f=i.apply(null,e);return f=f.map(function(a){return a.map(function(a){return r[a]}).join("")}),c.data("patterns",f),z.$patterns.keyboard(f,function(a){return'<a class="keyboard-btn" href="#simulator?play='+a+'">'+a+"</a>"}),b.juggler&&b.juggler.stop(),b.jugglerPlaying=!1,z.$patterns.data("active",!1),z.$patterns.data("position",0),z.$patterns.css("left",0),z.$patterns.data("width",null),f}function f(a,b){a.addClass("select"),b.data("$select",a);var c=b.data("width"),d=.5*($(window).outerWidth()-a.outerWidth())-a.offset().left,e=b.data("position")+d;-c>e?e=-c:e>0&&(e=0),b.data("position",e),b.css("left",e)}function g(a){a.removeClass("select")}function k(a,b){console.log("visible"),b.removeClass(a)}function m(a,b){console.log("collapse"),b.addClass(a)}function t(a,b,c){var d=!1;d||a!==b?k("minEqMax",c):(m("minEqMax",c),d=!0),!d&&1>=a||void 0===a?(m("minLessOrEq1",c),d=!0):k("minLessOrEq1",c),d?c.removeClass("expanded"):c.addClass("expanded")}function u(a){var b=a.data,c=$(this),d=c.data("type"),e=c.data("minmax");p[d][e]=parseInt(c.text())||void 0,h(p,d,e,"all"),q.ok()||console.log(q.message()),n[d](o,p[d],b.outputs[d]),q.ok()?(b.message.$error.addClass("hide"),b.message.$success.removeClass("hide")):(b.message.$success.addClass("hide"),b.message.$error.text(q.message()),b.message.$error.removeClass("hide")),q.ok()?(b.$create.removeClass("disabled"),b.$wrapper.removeClass("simulator-disabled")):(b.$create.addClass("disabled"),b.$wrapper.addClass("simulator-disabled"))}function v(a,b,c){var d,e=a.data("$min"),f=a.data("$max"),g=e.text(),i=f.text();t(g,i,a),p[b]={min:parseInt(g)||void 0,max:parseInt(i)||void 0},h(p,b,"min"),q.ok()||(s.message.$error.text(d),s.message.$success.addClass("hide")),h(p,b,"max",2===c?"all":"range"),q.ok()||(s.message.$error.text(d),s.message.$success.addClass("hide")),n[b](o,p[b],s.outputs[b]),q.ok()?(s.$create.removeClass("disabled"),s.$wrapper.removeClass("simulator-disabled")):(s.$create.addClass("disabled"),s.$wrapper.addClass("simulator-disabled"))}function w(a){a.preventDefault();var c=a.data,d=c.$keyboard,f=c.$simulator,g=e($(this).attr("href"),{fragment:"#header"}),h=c.href.queryString,i=g.queryString,k=$(g.fragment).offset().top;if(c.$root.animate({scrollTop:k},x,"swing"),"#header"===g.fragment){d.addClass("hide");var l=d.data("$shown");l&&l.removeClass("select")}else if("#simulator"===g.fragment){var m=f.data("patterns");m||(m=b({},c)),g.queryString.play=g.queryString.play||m[0],console.log("play",g.queryString.play),c.juggler||(c.juggler=new j({stage:{container:"juggler-simulator",width:f.width(),height:f.height()}})),h.play!==i.play&&(c.juggler.stop(),c.juggler.setPattern(g.queryString.play),c.juggler.play(),c.jugglerPlaying=!0)}c.href=g}s.$root=$("body, html");var x=300;$(".collapsed").each(function(a,b){var c=$(b);c.removeClass("hide");var d=c.outerWidth();console.log(d),c.data("width",d),c.css("width",d)}),$(".word-expanded").each(function(a,b){var c=$(b),d=c.outerWidth();c.data("width",d),c.css("width",d)});var y=s.$keyboard=$("#keyboard"),z={};y.data("$shown",null),$.each(["balls","periods","heights","patterns"],function(a,b){var c=z["$"+b]=$("#keyboard-"+b);c.data("position",0),c.data("active",!1)}),y.data("buttons",z);var A=$("#keyboard-left"),B=$("#keyboard-right");y.data("$left",A),y.data("$right",B),s.outputs={balls:$("#description-balls"),periods:$("#description-periods"),heights:$("#description-heights")},s.message={$success:$("#success"),$error:$("#error")};var C=s.$wrapper=$("#wrapper");s.$create=$("#create"),s.topCreate=s.$create.offset().top,s.$samples=$("#samples"),s.$header=$("#header");var D=s.$generator=$("#generator"),E=null,F={};D.data("active",!1),D.data("top",D.offset().top),D.data("$focus",E),$.each(["balls","periods","heights"],function(a,b){var d=F["$"+b]=$("#"+b);l&&d.addClass("android-browser");var e=$("#keyboard-"+b);"periods"===b?e.keyboard(c(1,10),function(a){return'<span class="numbers keyboard-btn number-'+a+'">'+a+"</span>"}):e.keyboard(c(1,25),function(a){return'<span class="numbers keyboard-btn number-'+a+'">'+a+"</span>"}),$.each(["min","max"],function(a,c){var f=$("#"+b+"-"+c);d.data("$"+c,f),f.data("$parent",d);var g=f.width();f.width(g);var h="40px";f.data("width",g),f.data("min-width",h),f.data("type",b),f.data("minmax",c),f.data("$keys",e)}),v(d,b,a)});var G=s.$simulator=$("#simulator");G.data("active",!1),D.data("inputs",F),a(),s.$create.on("click",s,b),s.$root.on("click",D,function(a){var b=a.data,c=b.data("$focus");c&&(d("blureditable",b,c[0]),b.data("$focus",null))}),D.on("click",".editable",D,function(a){a.stopPropagation();var b=a.data,c=b.data("$focus");c&&d("blureditable",b,c[0]),c=$(".contenteditable",this).first(),b.data("$focus",c),d("focuseditable",b,c[0])}),D.on("click",".contenteditable",D,function(a){a.stopPropagation();var b=a.data,c=b.data("$focus");c&&d("blureditable",b,c[0]),c=$(this),b.data("$focus",c),d("focuseditable",b,this)}),D.on("focuseditable",".contenteditable",y,function(){{var a=$(this),b=a.data("$keys"),c=a.data("$parent");y.data("$shown")}c.addClass("expanded"),c.hasClass("minEqMax")&&k("minEqMax",c),c.hasClass("minLessOrEq1")&&k("minLessOrEq1",c),a.addClass("select");var d=b.data("width");d||(d=b.width()-$(window).outerWidth()+120,b.data("width",d)),y.removeClass("hide"),y.data("$shown",b),b.addClass("select"),b.data("active",!0);var e=b.data("$select");e&&!e.hasClass(i)&&g(e);var h=a.text().trim();if(h){var i="number-"+h;f($("."+i,b),b)}}),D.on("blureditable",".contenteditable",s,function(a){console.log("blureditable");var b=$(this),c=a.data,d=c.$keyboard,e=b.data("$keys"),f=d.data("$shown"),g=b.data("$parent"),h=g.data("$min").text(),i=g.data("$max").text();t(h,i,g),b.removeClass("select"),f&&(d.addClass("hide"),e.removeClass("select")),e.data("active",!1)}),D.on("inputeditable",".contenteditable",s,u);y.on("click",function(a){a.stopPropagation()}),A.on("click",y,function(a){var b=a.data,c=b.data("$shown"),d=b.width()-100,e=c.data("position")+d;e=Math.min(e,0),c.data("position",e),c.css("left",e)}),B.on("click",y,function(a){var b=a.data,c=b.data("$shown"),d=b.width()-100,e=c.data("position")-d;e=Math.max(e,-c.data("width")),c.data("position",e),c.css("left",e)}),s.$root.on("click","a.disabled",function(a){a.preventDefault()}),s.$root.on("click","a:not(.disabled)",s,w),z.$patterns.on("click","a:not(.disabled)",s,w);for(var H in z){var I=z[H];I.on("click",".keyboard-btn",I,function(a){var b=$(this),c=a.data,d=c.data("$select");d&&g(d),c.data("$select",b),f(b,c)})}y.on("click",".keyboard-btn.numbers",D,function(a){var b=parseInt($(this).text()),c=a.data,e=c.data("$focus");e.text(b),d("inputeditable",c,e[0])}),$(window).on("scroll",s,function(a){var b=a.data,c=b.$generator,d=b.$simulator,e=$(window).scrollTop(),f=c.offset().top,g=d.offset().top;f-50>e?b.$header.removeClass("reduce"):b.$header.addClass("reduce");var h=c.data("active");h&&(f-50>e||e>=b.topCreate)?(c.trigger("off"),c.data("active",!1)):!h&&e>=f-50&&e<b.topCreate&&(c.trigger("on"),c.data("active",!0)),h=d.data("active"),h&&g-50>e?(d.trigger("off"),d.data("active",!1)):!h&&!C.hasClass("simulator-disabled")&&e>=g-50&&(d.trigger("on"),d.data("active",!0))}),G.on("off",y,function(a){var b=a.data,c=b.data("$shown"),d=b.data("buttons");d.$patterns.removeClass("select"),c&&(c.removeClass("select"),b.data("$shown",null)),b.addClass("hide")}),D.on("off",y,function(a){var b=a.data,c=b.data("$shown");c&&(c.removeClass("select"),b.data("$shown",null)),b.addClass("hide")}),G.on("on",s,function(a){console.log("ON simulator");var c=a.data,d=c.$keyboard,e=d.data("$shown"),f=d.data("buttons"),g=c.href,h=c.$simulator,i=h.data("patterns");i||(i=b({},c)),c.jugglerPlaying||(g.queryString.play=g.queryString.play||i[0],c.juggler||(c.juggler=new j({stage:{container:"juggler-simulator",width:h.width(),height:h.height()}})),c.juggler.stop(),c.juggler.setPattern(g.queryString.play),c.juggler.play(),c.jugglerPlaying=!0),e&&e.removeClass("select"),e=f.$patterns,d.data("$shown",e),e.addClass("select"),d.removeClass("hide");var k=f.$patterns.data("width");k||(k=f.$patterns.width()-$(window).outerWidth()+120,f.$patterns.data("width",k))}),D.on("on",s,function(a){{var b=a.data,c=b.$generator.data("$focus"),d=b.$keyboard,e=d.data("$shown");d.data("buttons")}e&&(e.removeClass("select"),d.data("$shown",null)),c&&(e=c.data("$keys"),d.data("$shown",e),e.addClass("select"),d.removeClass("hide"))})})},{"./Juggler/juggler.js":10,"siteswap-generator":7}]},{},[11]);